import{_ as A}from"./CRYH6EUk.js";import{_ as P,u as G,b as z,a as B,c as C}from"./BACvjOH3.js";import{u as _}from"./Bby8bbry.js";import{a as r,a3 as n,D as i,a8 as a,a0 as l,u as h,M as L,Y as F,z as T,F as N,af as O,ag as V,w as m,a6 as q,a7 as J}from"./BUNOv-RT.js";const R=g=>(q("data-v-d4d5fceb"),g=g(),J(),g),M={class:"title-container"},E={class:"head-title"},H={class:"header4"},Q={class:"options"},Y={key:0,class:"table-responsive"},W={key:0,class:"loading"},X=R(()=>a("img",{src:C,alt:""},null,-1)),j=[X],K={key:1,class:"product-tabel"},Z={class:"fw-bold"},x={class:"badge rounded-pill bg-primary me-1"},ee={class:"fw-bold"},ae={class:"fw-bold"},se={class:"fw-bold"},le=["onClick"],te={key:1,class:"table-responsive"},ne={key:0,class:"loading"},ie=R(()=>a("img",{src:C,alt:""},null,-1)),oe=[ie],ce={key:1,class:"product-tabel"},de={class:"fw-bold"},re={class:"badge rounded-pill bg-primary me-1"},ue={class:"fw-bold"},ve={class:"fw-bold"},_e={class:"fw-bold"},he={__name:"Orders",setup(g){const{public:{api:u,apiBase:v}}=B(),{locale:b}=G();let f=r(!1),o=r(!1),$=r([]);const D=async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await _(`${u.GetOrders}`,{credentials:"include",baseURL:v,headers:{"accept-language":"ar"}},"$y05l6RPPIh");m(()=>{e.value&&($.value=e.value)})}else{const{data:e,pending:t}=await _(`${u.GetOrders}`,{credentials:"include",baseURL:v,headers:{"accept-language":"en"}},"$bsaH0Anhh9");m(()=>{e.value&&($.value=e.value)})}o.value=!1};D(),r(),r(!1);let y=r([]);(async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await _(`${u.GetAllCustomers}`,{credentials:"include",baseURL:v,headers:{"accept-language":"ar"}},"$QDLFnB9dfg");m(()=>{e.value&&(y.value=e.value)})}else{const{data:e,pending:t}=await _(`${u.GetAllCustomers}`,{credentials:"include",baseURL:v,headers:{"accept-language":"en"}},"$Hq8sUmpAxF");m(()=>{e.value&&(y.value=e.value)})}o.value=!1})();let w=r([]);(async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await _(`${u.GetAllLocations}`,{credentials:"include",baseURL:v,headers:{"accept-language":"ar"}},"$s00D4ga8bm");m(()=>{e.value&&(w.value=e.value)})}else{const{data:e,pending:t}=await _(`${u.GetAllLocations}`,{credentials:"include",baseURL:v,headers:{"accept-language":"en"}},"$7YMUD0VMAw");m(()=>{e.value&&(w.value=e.value)})}o.value=!1})();const S=e=>{var c,d,s;let t=(c=y.value)==null?void 0:c.filter(p=>p.id==e);return((d=t[0])==null?void 0:d.firstName)+((s=t[0])==null?void 0:s.lastName)},I=e=>{var c,d;return(d=((c=w.value)==null?void 0:c.filter(s=>s.id==e))[0])==null?void 0:d.name};let k=r();const U=async e=>{f.value=!0,o.value=!0;const{data:t,pending:c}=await _(`${u.GetOrderDetails}/${e}`,{credentials:"include",baseURL:v,headers:{"accept-language":b.value==="ar"?"ar":"en"}},"$XWn84dcAOb");k.value=t.value,o.value=!1};return(e,t)=>{var d;const c=A;return n(),i("div",{class:V(["contain",("useSidebar"in e?e.useSidebar:h(z))().value?"shrink":""])},[a("div",M,[a("div",E,[a("h4",H,l(e.$i18n.locale==="ar"?"قائمة الطلبيات":"Orders List"),1)]),a("div",Q,[h(f)?(n(),i("div",{key:1,class:"reload btn btn-success mx-2",onClick:t[1]||(t[1]=s=>T(f)?f.value=!1:f=!1)},l(e.$i18n.locale==="ar"?"رجوع":"Back"),1)):(n(),i("div",{key:0,class:"reload btn btn-success mx-2",onClick:t[0]||(t[0]=s=>D())},[L(c,{icon:["fas","rotate-right"]}),F(" "+l(e.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)]))])]),h(f)?(n(),i("div",te,[h(o)?(n(),i("div",ne,oe)):(n(),i("div",ce,[a("table",null,[a("thead",null,[a("tr",null,[a("th",null,l(e.$i18n.locale==="ar"?"الاسم":"Name"),1),a("th",null,l(e.$i18n.locale==="ar"?"الحجم":"Size"),1),a("th",null,l(e.$i18n.locale==="ar"?"الكمية":"Quantity"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الإفرادي":"Single Price"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الإجمالي":"Total Price"),1)])]),a("tbody",null,[(n(!0),i(N,null,O((d=h(k))==null?void 0:d.items,s=>(n(),i("tr",{class:"rows",key:s.id},[a("td",de,l(s.plantName),1),a("td",null,[a("p",re,l(s.size?s.size:e.$i18n.locale==="ar"?"لا يوجد":"No Size"),1)]),a("td",ue,l(s.quantity),1),a("td",ve,"JOD "+l(Number(s==null?void 0:s.plantPrice)),1),a("td",_e," JOD "+l(Number(s==null?void 0:s.plantPrice)*s.quantity),1)]))),128))])])]))])):(n(),i("div",Y,[h(o)?(n(),i("div",W,j)):(n(),i("div",K,[a("table",null,[a("thead",null,[a("tr",null,[a("th",null,l(e.$i18n.locale==="ar"?"الاسم":"Name"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الكلي":"Total Price"),1),a("th",null,l(e.$i18n.locale==="ar"?"التاريخ":"Date"),1),a("th",null,l(e.$i18n.locale==="ar"?"نوع الدفع":"Payment Type"),1),a("th",null,l(e.$i18n.locale==="ar"?"الموقع":"Location"),1),a("th",null,l(e.$i18n.locale==="ar"?"تفاصيل":"Details"),1)])]),a("tbody",null,[(n(!0),i(N,null,O(h($),s=>{var p;return n(),i("tr",{class:"rows",key:s.cartId},[a("td",Z,l(S(s.customer_id)),1),a("td",null,[a("p",x," JOD "+l(s.total_price),1)]),a("td",ee,l((p=s.created_at)==null?void 0:p.slice(0,10)),1),a("td",ae,l(s.payment_id??e.$i18n.locale==="ar"?"لا يوجد":"Not Found"),1),a("td",se,l(I(s.location_id)),1),a("td",{class:"fw-bold edit-link",onClick:ge=>U(s.cartId)},[L(c,{icon:["fas","circle-info"]})],8,le)])}),128))])])]))]))],2)}}},we=P(he,[["__scopeId","data-v-d4d5fceb"]]);export{we as default};
