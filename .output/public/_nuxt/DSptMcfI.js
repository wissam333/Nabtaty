import{a as D,r as g}from"./DoTAhzWR.js";import{u as h}from"./CMicMriF.js";const f=(c,...i)=>i.reduce((m,n)=>(c&&n in c&&(m[n]=c[n]),m),{}),x=()=>{const{serverApiBase:c,public:{apiBase:i,api:m,cachedTime:n}}=D(),p=g(),A=async(t,e=[],r=!0,u=!1)=>h(()=>`${t}`,{key:`${t}`,baseURL:i,server:r,lazy:u,transform(a){const s={...a,fetchedAt:new Date};if(e.length)if(a.items&&Array.isArray(a.items))s.items=a.items.map(o=>f(o,...e));else return f(s,...e);return s},getCachedData(a){return d(a)}},"$ZClKFvD9Nb"),l=async(t,e=[],r,u=!0,a=!1)=>h(()=>`${t}${r}`,{key:`${t}${r}`,baseURL:i,server:u,lazy:a,transform(s){const o={...s,fetchedAt:new Date};return e.length?f(o,...e):o},getCachedData(s){return d(s)}},"$TGG8Mkno4i"),d=t=>{const e=p.payload.data[t]||p.static.data[t];if(!e)return;const r=new Date(e.fetchedAt);if(r.setTime(r.getTime()+n),!(r.getTime()<Date.now()))return e};return{GetAll:A,GetById:l}};export{x as u};
