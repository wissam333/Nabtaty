import{_ as J}from"./Ch5Sa6jZ.js";import{_ as W}from"./DX_Q7PSB.js";import{_ as x,u as H,b as K,a as Q,c as X,d as Z}from"./ggi4YNCB.js";import{a as n,a3 as U,D as N,a8 as e,a0 as s,M as b,Y as M,u as i,F as T,af as ee,ag as le,a4 as R,z as d,w as B,Q as y,a1 as L,a6 as ae,a7 as se}from"./Bynz-MEc.js";import{u as f}from"./BWQMGdzM.js";import{s as te}from"./DS0BfLD8.js";import"./Bsjm0cNi.js";import"./Dj9urW5l.js";import"./D9hLvVIP.js";import"./BKHN_0FP.js";import"./CkBuMpX3.js";import"./BZxYlsYh.js";import"./Dx0W9_GM.js";const oe=D=>(ae("data-v-b68556c2"),D=D(),se(),D),ne={class:"title-container"},ie={class:"head-title"},de={class:"header4"},ce={class:"options"},re={class:"table-responsive"},ue={key:0,class:"loading"},pe=oe(()=>e("img",{src:X,alt:""},null,-1)),me=[pe],ve={key:1,class:"product-tabel"},be={class:"d-flex align-items-center"},fe={class:"fw-bold"},he={class:"fw-bold"},_e=["onClick"],$e={class:"edit-link"},ge=["onClick"],ye=["dir"],Le={class:"content"},Ee={class:"d-flex flex-column-reverse mb-3"},Ae=["placeholder"],Ce={for:"nameAr"},ke={class:"d-flex flex-column-reverse mb-3"},we=["placeholder"],Ue={for:"nameEn"},Ne={class:"d-flex flex-column-reverse mb-3"},Re=["placeholder"],De={for:"price"},Se={class:"mt-5 d-flex w-100 justify-content-end"},Pe=["onClick"],qe=["dir"],Ie={class:"content"},Ve={class:"d-flex flex-column-reverse mb-3"},Me=["placeholder"],Te={for:"editnameAr"},Be={class:"d-flex flex-column-reverse mb-3"},je=["placeholder"],Ge={for:"editnameEn"},Oe={class:"d-flex flex-column-reverse mb-3"},Ye=["placeholder"],Fe={for:"price"},ze={class:"mt-5 d-flex w-100 justify-content-end"},Je=["onClick"],We={__name:"Locations",setup(D){const{public:{api:r,apiBase:u}}=Q(),{locale:S}=H(),{$awn:h}=Z(),E=n(!1),A=n(!1);let _=n(),$=n(),C=n(),p=n(),m=n(),v=n(),k=n(),c=n(!1);const j=l=>{c.value=l};let q=n(!1),I=n();const w=async()=>{if(q.value=!0,S.value==="ar"){const{data:l,pending:a}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$iJekxnpLPp");B(()=>{l.value&&(I.value=l.value)})}else{const{data:l,pending:a}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$CDppY2mjMU");B(()=>{l.value&&(I.value=l.value)})}q.value=!1};w();const G=async()=>{await f(`${r.DeleteLocation}/${k.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$acGf8P1RLb"),w(),c.value=!1,S.value==="en"?h.success("Location Deleted Successfully",{durations:{global:5e3}}):h.success("تم حذف المنطقة بنجاح",{durations:{global:5e3}})},O=async()=>{E.value=!1,await f(r.AddLocation,{baseURL:u,method:"POST",credentials:"include",body:{location_name_AR:_.value,location_name_EN:$.value,price:C.value}},"$8ASMydNMqY"),w(),_.value="",$.value="",S.value==="en"?h.success("Location Added Successfully",{durations:{global:5e3}}):h.success("تم إضافة المنطقة بنجاح",{durations:{global:5e3}})};let g=n();const Y=async()=>{const{data:l}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$WTZHIqK9bj"),{data:a}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$9R5exyN0nv");p.value=l.value.name,m.value=a.value.name,v.value=a.value.price},F=async()=>{A.value=!1,await f(`${r.UpdateLocation}/${g.value.id}`,{credentials:"include",body:{location_name_AR:p.value,location_name_EN:m.value,price:v.value},baseURL:u,method:"PUT"},"$8ycXUnchj3"),w(),p.value="",m.value="",v.value=0,S.value==="en"?h.success("Location Edited Successfully",{durations:{global:5e3}}):h.success("تم تعديل المنطقة بنجاح",{durations:{global:5e3}})};return(l,a)=>{const P=J,V=te,z=W;return U(),N(T,null,[e("div",{class:le(["contain",("useSidebar"in l?l.useSidebar:i(K))().value?"shrink":""])},[e("div",ne,[e("div",ie,[e("h4",de,s(l.$i18n.locale==="ar"?"قائمة المناطق":"Regions List"),1)]),e("div",ce,[e("div",{class:"reload btn btn-success mx-2",onClick:a[0]||(a[0]=t=>E.value=!0)},[b(P,{icon:["fas","plus"]}),M(" "+s(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:a[1]||(a[1]=t=>w())},[b(P,{icon:["fas","rotate-right"]}),M(" "+s(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",re,[i(q)?(U(),N("div",ue,me)):(U(),N("div",ve,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(l.$i18n.locale==="ar"?"الاسم":"Name"),1),e("th",null,s(l.$i18n.locale==="ar"?"السعر":"Price"),1),e("th",null,s(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(U(!0),N(T,null,ee(i(I),t=>(U(),N("tr",{class:"rows",key:t.id},[e("td",be,[e("h5",fe,s(t.name),1)]),e("td",he,"JOD "+s(t.price),1),e("td",null,[e("span",{class:"delete",onClick:o=>{d(c)?c.value=!0:c=!0,d(k)?k.value=t:k=t}},[b(P,{icon:["fas","trash"]})],8,_e),e("span",$e,[e("span",{class:"edit",onClick:o=>{A.value=!0,d(g)?g.value=t:g=t,Y()}},[b(P,{icon:["fas","pen-to-square"]})],8,ge)])])]))),128))])])]))])],2),b(V,{visible:i(E),"onUpdate:visible":a[5]||(a[5]=t=>d(E)?E.value=t:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(l.$i18n.locale==="ar"?"إضافة منطقة جديدة":"Add New Region"),1),e("div",Le,[e("div",null,[e("div",Ee,[y(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>d(_)?_.value=o:_=o),id:"nameAr",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,Ae),[[L,i(_)]]),e("label",Ce,s(l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",ke,[y(e("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>d($)?$.value=o:$=o),id:"nameEn",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,we),[[L,i($)]]),e("label",Ue,s(l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",Ne,[y(e("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>d(C)?C.value=o:C=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:l.$i18n.locale==="ar"?"السعر":"Price"},null,8,Re),[[L,i(C)]]),e("label",De,s(l.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",Se,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,Pe),e("button",{class:"btn btn-success mx-2",onClick:O,autofocus:""},s(l.$t("Add")),1)])],8,ye)]),_:1},8,["visible"]),b(V,{visible:i(A),"onUpdate:visible":a[9]||(a[9]=t=>d(A)?A.value=t:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(l.$i18n.locale==="ar"?"تعديل المنطقة":"Edit Region"),1),e("div",Ie,[e("div",null,[e("div",Ve,[y(e("input",{"onUpdate:modelValue":a[6]||(a[6]=o=>d(p)?p.value=o:p=o),id:"editnameAr",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,Me),[[L,i(p)]]),e("label",Te,s(l.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",Be,[y(e("input",{"onUpdate:modelValue":a[7]||(a[7]=o=>d(m)?m.value=o:m=o),id:"editnameEn",type:"text",required:"",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,je),[[L,i(m)]]),e("label",Ge,s(l.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",Oe,[y(e("input",{"onUpdate:modelValue":a[8]||(a[8]=o=>d(v)?v.value=o:v=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:l.$i18n.locale==="ar"?"السعر":"Price"},null,8,Ye),[[L,i(v)]]),e("label",Fe,s(l.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",ze,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,Je),e("button",{class:"btn btn-success mx-2",onClick:F,autofocus:""},s(l.$t("Edit")),1)])],8,qe)]),_:1},8,["visible"]),b(z,{isOpen:i(c),onUpdateIsOpen:j},{header:R(()=>[e("h4",null,s(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:R(()=>[e("p",null,s(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+' "'+s(i(k).name)+'"'+s(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:R(()=>[e("button",{class:"btn btn-secondary",onClick:a[10]||(a[10]=t=>d(c)?c.value=!1:c=!1)},s(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:a[11]||(a[11]=t=>G())},s(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},il=x(We,[["__scopeId","data-v-b68556c2"]]);export{il as default};
