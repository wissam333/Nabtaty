import{_ as X}from"./BufMpdKz.js";import{_ as ee}from"./BNstJ_gz.js";import{a as d,a3 as f,D as b,a8 as e,a0 as s,M as r,Y as O,u as i,F as Q,af as le,ag as ae,a4 as F,z as c,w as T,Q as B,a1 as P,a5 as M,$ as se,a6 as te,a7 as oe}from"./Bynz-MEc.js";import{_ as ne,u as ie,b as de,a as re,c as ce,d as ue}from"./DC6DYEp4.js";import{u as g}from"./BhYxPRj1.js";import{s as pe}from"./CmdRSIcI.js";import{s as ve}from"./CQizLKOM.js";import"./DOKlKRzF.js";import"./9ishBx2H.js";import"./DlK-W-L0.js";import"./B53viXrh.js";import"./BFMvh4il.js";import"./CoVRHfFE.js";import"./DnTz2Abb.js";import"./Yr3i5D8o.js";const me=S=>(te("data-v-5549e89d"),S=S(),oe(),S),fe={class:"title-container"},be={class:"head-title"},_e={class:"header4"},he={class:"options"},$e={class:"table-responsive"},ge={key:0,class:"loading"},Ce=me(()=>e("img",{src:ce,alt:""},null,-1)),De=[Ce],ye={key:1,class:"cat-tabel"},we=["src"],ke=["onClick"],Ae={class:"edit-link"},Ee=["onClick"],Ie=["dir"],Re={class:"fw-bold mb-5"},Ue={class:"content"},Fe={class:"d-flex flex-column-reverse mb-3"},Se=["placeholder"],Ne={for:"description_AR"},Le={class:"d-flex flex-column-reverse mb-3"},Ve=["placeholder"],Be={for:"description_En"},Pe={class:"drop-area my-4"},qe={class:"upload-box"},xe=["src"],Me={class:"mt-5 d-flex w-100 justify-content-end"},Oe=["onClick"],Qe=["dir"],Te={class:"content"},ze={class:"d-flex flex-column-reverse mb-3"},Ye=["placeholder"],Ge={for:"editDescription_AR"},Ke={class:"d-flex flex-column-reverse mb-3"},je=["placeholder"],We={for:"editDescription_EN"},Ze={class:"drop-area my-4"},He={class:"upload-box"},Je=["src"],Xe={class:"mt-5 d-flex w-100 justify-content-end"},el=["onClick"],ll={__name:"Care",setup(S){const{public:{api:_,apiBase:u}}=re(),{locale:A}=ie(),{$awn:m}=ue(),C=d(!1),E=d(!1);let h=d(),$=d(),D=d(),y=d();const I=d(null),N=d(null);function z(l){const a=l.files[0];N.value=a;const o=new FileReader;o.onload=async v=>{I.value=v.target.result},o.readAsDataURL(a)}const w=d(null),L=d(null);function Y(l){const a=l.files[0];L.value=a;const o=new FileReader;o.onload=async v=>{w.value=v.target.result},o.readAsDataURL(a)}let V=d(),p=d(!1);const G=l=>{p.value=l};let q=d(!1),x=d();const R=async()=>{if(q.value=!0,A.value==="ar"){const{data:l,pending:a}=await g(`${_.GetAllCare}`,{baseURL:u,credentials:"include",headers:{"accept-language":"ar"}},"$Brqn2iBQDO");T(()=>{l.value&&(x.value=l.value)})}else{const{data:l,pending:a}=await g(`${_.GetAllCare}`,{baseURL:u,credentials:"include",headers:{"accept-language":"en"}},"$pkEYNsS4OK");T(()=>{l.value&&(x.value=l.value)})}q.value=!1};R();const K=async()=>{await g(`${_.DeleteCare}/${V.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$dSkKCFQF4y"),R(),p.value=!1,A.value==="en"?m.success("Information Deleted Successfully",{durations:{global:5e3}}):m.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},j=async()=>{var o,v,U;const l=new FormData;l.append("description_AR",D.value),l.append("description_EN",y.value),l.append("photoPath",L.value);const{data:a}=await g(_.AddCare,{baseURL:u,credentials:"include",method:"POST",body:l},"$7KDFngQiQN");C.value=!1,D.value="",y.value="",w.value=null,L.value=null,(o=a.value)!=null&&o.plantCareId?A.value==="en"?m.success("Information Added Successfully",{durations:{global:5e3}}):m.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):A.value==="en"?m.alert("error occurd: "+((v=a.value)==null?void 0:v.error),{durations:{global:5e3}}):m.alert(": حدث خطأ"+((U=a.value)==null?void 0:U.error),{durations:{global:5e3}}),R(),C.value=!1,phone.value="",email.value="",website.value=""},W=async l=>{const{data:a}=await g(`${_.GetCareById}/${k.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$zEFUFbgD7t"),{data:o}=await g(`${_.GetCareById}/${k.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$eVVZihQ7F4");h.value=a.value.description,$.value=o.value.description,I.value=u+"/"+o.value.photo,N.value=null};let k=d();const Z=async()=>{const l=new FormData;l.append("description_AR",h.value),l.append("description_EN",$.value),l.append("photoPath",N.value),await g(`${_.UpdateCare}/${k.value.id}`,{credentials:"include",body:l,baseURL:u,method:"PUT"},"$o5k22bntYr"),R(),E.value=!1,h.value="",$.value="",N.value=null,I.value=null,A.value==="en"?m.success("Category Edited Successfully",{durations:{global:5e3}}):m.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(l,a)=>{const o=X,v=ve,U=pe,H=ee;return f(),b(Q,null,[e("div",{class:ae(["contain",("useSidebar"in l?l.useSidebar:i(de))().value?"shrink":""])},[e("div",fe,[e("div",be,[e("h4",_e,s(l.$i18n.locale==="ar"?"الصحافة النباتية":"Plant Press"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:a[0]||(a[0]=t=>C.value=!0)},[r(o,{icon:["fas","plus"]}),O(" "+s(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:a[1]||(a[1]=t=>R())},[r(o,{icon:["fas","rotate-right"]}),O(" "+s(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",$e,[i(q)?(f(),b("div",ge,De)):(f(),b("div",ye,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(l.$i18n.locale==="ar"?"الصورة":"Photo"),1),e("th",null,s(l.$i18n.locale==="ar"?"الوصف":"Description"),1),e("th",null,s(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(f(!0),b(Q,null,le(i(x),t=>{var n;return f(),b("tr",{class:"rows",key:t.id},[e("td",null,[e("div",null,[e("span",null,[e("img",{height:"100",src:i(u)+"/"+t.photo,alt:""},null,8,we)])])]),e("td",null,[e("div",null,[e("span",null,s(((n=t.description)==null?void 0:n.length)>30?t.description.slice(0,30)+"...":t.description),1)])]),e("td",null,[e("span",{class:"delete",onClick:J=>{c(p)?p.value=!0:p=!0,c(V)?V.value=t:V=t}},[r(o,{icon:["fas","trash"]})],8,ke),e("span",Ae,[e("span",{class:"edit",onClick:J=>{E.value=!0,c(k)?k.value=t:k=t,W()}},[r(o,{icon:["fas","pen-to-square"]})],8,Ee)])])])}),128))])])]))])],2),r(U,{visible:i(C),"onUpdate:visible":a[6]||(a[6]=t=>c(C)?C.value=t:null),modal:"",style:{width:"50rem"}},{container:F(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Re,s(l.$i18n.locale==="ar"?"إضافة قسم جديد":"Add New Part"),1),e("div",Ue,[e("div",null,[e("div",Fe,[B(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=n=>c(D)?D.value=n:D=n),id:"description_AR",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Se),[[P,i(D)]]),e("label",Ne,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Le,[B(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=n=>c(y)?y.value=n:y=n),id:"description_En",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",required:""},null,8,Ve),[[P,i(y)]]),e("label",Be,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Pe,[e("div",qe,[r(v,{mode:"basic",onSelect:Y,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(w)?(f(),b("img",{key:0,src:i(w),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,xe)):M("",!0),i(w)?(f(),b("button",{key:1,class:"btn btn-danger clear",onClick:a[4]||(a[4]=se(n=>{w.value=null,L.value=null},["prevent"]))},[r(o,{class:"xmark",icon:["fas","xmark"]})])):M("",!0)])])])]),e("div",Me,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,Oe),e("button",{class:"btn btn-success mx-2",onClick:a[5]||(a[5]=n=>j()),autofocus:""},s(l.$t("Add")),1)])],8,Ie)]),_:1},8,["visible"]),r(U,{visible:i(E),"onUpdate:visible":a[10]||(a[10]=t=>c(E)?E.value=t:null),modal:"",style:{width:"50rem"}},{container:F(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,s(l.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",Te,[e("div",null,[e("div",ze,[B(e("textarea",{"onUpdate:modelValue":a[7]||(a[7]=n=>c(h)?h.value=n:h=n),id:"editDescription_AR",type:"text",autocomplete:"off",rows:"5",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Ye),[[P,i(h)]]),e("label",Ge,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Ke,[B(e("textarea",{"onUpdate:modelValue":a[8]||(a[8]=n=>c($)?$.value=n:$=n),id:"editDescription_EN",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",rows:"5",required:""},null,8,je),[[P,i($)]]),e("label",We,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Ze,[e("div",He,[r(v,{mode:"basic",onSelect:z,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(I)?(f(),b("img",{key:0,src:i(I),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Je)):M("",!0)])])])]),e("div",Xe,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,el),e("button",{class:"btn btn-success mx-2",onClick:a[9]||(a[9]=n=>Z()),autofocus:""},s(l.$t("Edit")),1)])],8,Qe)]),_:1},8,["visible"]),r(H,{isOpen:i(p),onUpdateIsOpen:G},{header:F(()=>[e("h4",null,s(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:F(()=>[e("p",null,s(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+s(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:F(()=>[e("button",{class:"btn btn-secondary",onClick:a[11]||(a[11]=t=>c(p)?p.value=!1:p=!1)},s(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:a[12]||(a[12]=t=>K())},s(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},_l=ne(ll,[["__scopeId","data-v-5549e89d"]]);export{_l as default};
