import{_ as x}from"./Ch5Sa6jZ.js";import{_ as K}from"./DX_Q7PSB.js";import{a as c,a3 as d,D as u,a8 as e,a0 as a,M as n,Y as T,u as o,F as j,af as X,ag as Z,a4 as w,z as h,w as z,a5 as F,$ as O,a6 as H,a7 as ee}from"./Bynz-MEc.js";import{_ as se,u as te,b as le,a as ae,c as oe,d as ne}from"./ggi4YNCB.js";import{u as C}from"./BWQMGdzM.js";import{s as ie}from"./DS0BfLD8.js";import{s as ce}from"./2kUeg78A.js";import{s as de}from"./DmBdSmtq.js";import"./Bsjm0cNi.js";import"./Dj9urW5l.js";import"./D9hLvVIP.js";import"./BKHN_0FP.js";import"./CkBuMpX3.js";import"./BZxYlsYh.js";import"./Dx0W9_GM.js";import"./BtkzsP12.js";const ue=S=>(H("data-v-b846ce13"),S=S(),ee(),S),re={class:"title-container"},ve={class:"head-title"},me={class:"header4"},pe={class:"options"},be={class:"table-responsive"},fe={key:0,class:"loading"},_e=ue(()=>e("img",{src:oe,alt:""},null,-1)),he=[_e],$e={key:1,class:"cat-tabel"},ge={class:"truncate"},ye=["src"],ke={class:""},we={key:0},Ce=["onClick"],Se=["onClick"],De=["dir"],Le={class:"fw-bold mb-5"},Ue={class:"content"},Fe={class:"drop-area my-4"},Ae={class:"upload-box"},Ee=["src"],Re={class:"mt-5 d-flex w-100 justify-content-end"},Ie=["onClick"],Ve=["dir"],Me={class:"content"},Ne={class:"drop-area my-4"},Pe={class:"upload-box"},Be=["src"],Te={class:"mt-5 d-flex w-100 justify-content-end"},je=["onClick"],ze={__name:"Logo",setup(S){const{public:{api:$,apiBase:p}}=ae(),{locale:D}=te(),{$awn:b}=ne(),g=c(!1),A=c(!1),f=c(null),E=c(null);function Y(s){const t=s.files[0];E.value=t;const i=new FileReader;i.onload=async _=>{f.value=_.target.result},i.readAsDataURL(t)}const v=c(null),y=c(null);function G(s){const t=s.files[0];y.value=t;const i=new FileReader;i.onload=async _=>{v.value=_.target.result},i.readAsDataURL(t)}let L=c(),r=c(!1);const J=s=>{r.value=s};let R=c(!1),I=c();const k=async()=>{if(R.value=!0,D.value==="ar"){const{data:s,pending:t}=await C(`${$.GetLogo}`,{baseURL:p,credentials:"include",headers:{"accept-language":"ar"}},"$ZJbn5DNoM5");z(()=>{s.value&&(I.value=s.value)})}else{const{data:s,pending:t}=await C(`${$.GetLogo}`,{baseURL:p,credentials:"include",headers:{"accept-language":"en"}},"$L2sBV8x3t1");z(()=>{s.value&&(I.value=s.value)})}R.value=!1};k();const Q=async()=>{await C(`${$.DeleteLogo}/${L.value.id}`,{credentials:"include",baseURL:p,method:"DELETE"},"$Ks7qEQX75G"),k(),r.value=!1,D.value==="en"?b.success("Deleted Successfully",{durations:{global:5e3}}):b.success("تم حذف بنجاح",{durations:{global:5e3}})},W=async()=>{const s=new FormData;s.append("photoPath",y.value),await C($.AddLogo,{baseURL:p,credentials:"include",method:"POST",body:s},"$wYoW7JofEM"),y.value=null,v.value=null,g.value=!1,k(),D.value==="en"?b.success("Added Successfully",{durations:{global:5e3}}):b.success("تم الإضافة بنجاح",{durations:{global:5e3}})};let U=c();const V=async()=>{await C(`${$.UpdateLogo}/${U.value.id}`,{credentials:"include",baseURL:p,method:"PUT"},"$EUjgFSQC6f"),k(),D.value==="en"?b.success("Edited Successfully",{durations:{global:5e3}}):b.success("تم التعديل بنجاح",{durations:{global:5e3}})},M=s=>!!s;return(s,t)=>{var B;const i=x,_=de,N=ce,P=ie,q=K;return d(),u(j,null,[e("div",{class:Z(["contain",("useSidebar"in s?s.useSidebar:o(le))().value?"shrink":""])},[e("div",re,[e("div",ve,[e("h4",me,a(s.$i18n.locale==="ar"?"سياسة الخصوصية":"Privacy Policy"),1)]),e("div",pe,[e("div",{class:"reload btn btn-success mx-2",onClick:t[0]||(t[0]=l=>g.value=!0)},[n(i,{icon:["fas","plus"]}),T(" "+a(s.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:t[1]||(t[1]=l=>k())},[n(i,{icon:["fas","rotate-right"]}),T(" "+a(s.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",be,[o(R)?(d(),u("div",fe,he)):(d(),u("div",$e,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,a(s.$i18n.locale==="ar"?"الصورة":"Image"),1),e("th",null,a(s.$i18n.locale==="ar"?"فعال؟":"Active?"),1),e("th",null,a(s.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(d(!0),u(j,null,X((B=o(I))==null?void 0:B.data,l=>(d(),u("tr",{class:"rows",key:l.id},[e("td",ge,[e("div",null,[e("span",null,[e("img",{style:{"object-fit":"contain"},height:"100",width:"100",src:`${o(p)}/${l.photoPath}`,alt:""},null,8,ye)])])]),e("td",ke,[l.is_active?(d(),u("div",we,[n(_,{modelValue:M(l.is_active),binary:""},null,8,["modelValue"])])):(d(),u("div",{key:1,onClick:m=>{h(U)?U.value=l:U=l,V()}},[n(_,{modelValue:M(l.is_active),binary:""},null,8,["modelValue"])],8,Ce))]),e("td",null,[e("span",{class:"delete",onClick:m=>{h(r)?r.value=!0:r=!0,h(L)?L.value=l:L=l}},[n(i,{icon:["fas","trash"]})],8,Se)])]))),128))])])]))])],2),n(P,{visible:o(g),"onUpdate:visible":t[4]||(t[4]=l=>h(g)?g.value=l:null),modal:"",style:{width:"50rem"}},{container:w(({closeCallback:l})=>[e("div",{class:"dialog",dir:s.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Le,a(s.$i18n.locale==="ar"?"إضافة لوغو جديد":"Add New Logo"),1),e("div",Ue,[e("div",Fe,[e("div",Ae,[n(N,{mode:"basic",onSelect:G,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(v)?(d(),u("img",{key:0,src:o(v),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Ee)):F("",!0),o(v)?(d(),u("button",{key:1,class:"btn btn-danger clear",onClick:t[2]||(t[2]=O(m=>{v.value=null,y.value=null},["prevent"]))},[n(i,{class:"xmark",icon:["fas","xmark"]})])):F("",!0)])])]),e("div",Re,[e("button",{class:"btn btn-secondary",onClick:m=>{v.value=null,y.value=null}},a(s.$t("Close")),9,Ie),e("button",{class:"btn btn-success mx-2",onClick:t[3]||(t[3]=m=>W()),autofocus:""},a(s.$t("Add")),1)])],8,De)]),_:1},8,["visible"]),n(P,{visible:o(A),"onUpdate:visible":t[7]||(t[7]=l=>h(A)?A.value=l:null),modal:"",style:{width:"50rem"}},{container:w(({closeCallback:l})=>[e("div",{class:"dialog",dir:s.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,a(s.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",Me,[e("div",Ne,[e("div",Pe,[n(N,{mode:"basic",onSelect:Y,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(f)?(d(),u("img",{key:0,src:o(f),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Be)):F("",!0),o(f)?(d(),u("button",{key:1,class:"btn btn-danger clear",onClick:t[5]||(t[5]=O(m=>{f.value=null,E.value=null},["prevent"]))},[n(i,{class:"xmark",icon:["fas","xmark"]})])):F("",!0)])])]),e("div",Te,[e("button",{class:"btn btn-secondary",onClick:m=>{f.value=null,E.value=null}},a(s.$t("Close")),9,je),e("button",{class:"btn btn-success mx-2",onClick:t[6]||(t[6]=m=>V()),autofocus:""},a(s.$t("Edit")),1)])],8,Ve)]),_:1},8,["visible"]),n(q,{isOpen:o(r),onUpdateIsOpen:J},{header:w(()=>[e("h4",null,a(s.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:w(()=>[e("p",null,a(s.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+a(s.$i18n.locale==="ar"?"؟":"?"),1)]),footer:w(()=>[e("button",{class:"btn btn-secondary",onClick:t[8]||(t[8]=l=>h(r)?r.value=!1:r=!1)},a(s.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:t[9]||(t[9]=l=>Q())},a(s.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},as=se(ze,[["__scopeId","data-v-b846ce13"]]);export{as as default};
