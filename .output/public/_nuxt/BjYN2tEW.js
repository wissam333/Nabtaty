import{_ as K}from"./BufMpdKz.js";import{_ as ee}from"./BNstJ_gz.js";import{a as d,a3 as f,D as b,a8 as e,a0 as s,M as r,Y as z,u as i,F as M,af as le,ag as ae,a4 as S,z as c,w as j,Q as P,a1 as B,a5 as q,$ as se,a6 as te,a7 as oe}from"./Bynz-MEc.js";import{_ as ne,u as ie,b as de,a as re,c as ce,d as ue}from"./DC6DYEp4.js";import{u as g}from"./BhYxPRj1.js";import{s as pe}from"./CmdRSIcI.js";import{s as ve}from"./CQizLKOM.js";import"./DOKlKRzF.js";import"./9ishBx2H.js";import"./DlK-W-L0.js";import"./B53viXrh.js";import"./BFMvh4il.js";import"./CoVRHfFE.js";import"./DnTz2Abb.js";import"./Yr3i5D8o.js";const me=T=>(te("data-v-426fdb4a"),T=T(),oe(),T),fe={class:"title-container"},be={class:"head-title"},_e={class:"header4"},he={class:"options"},$e={class:"table-responsive"},ge={key:0,class:"loading"},ke=me(()=>e("img",{src:ce,alt:""},null,-1)),ye=[ke],we={key:1,class:"cat-tabel"},De=["src"],Ce=["onClick"],Ie={class:"edit-link"},Ae=["onClick"],Re=["dir"],Ee={class:"fw-bold mb-5"},Ue={class:"content"},Se={class:"d-flex flex-column-reverse mb-3"},Te=["placeholder"],Fe={for:"description_AR"},Le={class:"d-flex flex-column-reverse mb-3"},Ne=["placeholder"],Pe={for:"description_En"},Be={class:"drop-area my-4"},Ve={class:"upload-box"},xe=["src"],qe={class:"mt-5 d-flex w-100 justify-content-end"},ze=["onClick"],Me=["dir"],je={class:"content"},Ge={class:"d-flex flex-column-reverse mb-3"},Oe=["placeholder"],Ye={for:"editDescription_AR"},Qe={class:"d-flex flex-column-reverse mb-3"},We=["placeholder"],Xe={for:"editDescription_EN"},Ze={class:"drop-area my-4"},He={class:"upload-box"},Je=["src"],Ke={class:"mt-5 d-flex w-100 justify-content-end"},el=["onClick"],ll={__name:"Talk",setup(T){const{public:{api:_,apiBase:u}}=re(),{locale:I}=ie(),{$awn:m}=ue(),k=d(!1),A=d(!1);let h=d(),$=d(),y=d(),w=d();const R=d(null),F=d(null);function G(l){const a=l.files[0];F.value=a;const o=new FileReader;o.onload=async v=>{R.value=v.target.result},o.readAsDataURL(a)}const D=d(null),L=d(null);function O(l){const a=l.files[0];L.value=a;const o=new FileReader;o.onload=async v=>{D.value=v.target.result},o.readAsDataURL(a)}let N=d(),p=d(!1);const Y=l=>{p.value=l};let V=d(!1),x=d();const E=async()=>{if(V.value=!0,I.value==="ar"){const{data:l,pending:a}=await g(`${_.GetAllTalk}`,{baseURL:u,credentials:"include",headers:{"accept-language":"ar"}},"$ZCR6jpFQit");j(()=>{l.value&&(x.value=l.value)})}else{const{data:l,pending:a}=await g(`${_.GetAllTalk}`,{baseURL:u,credentials:"include",headers:{"accept-language":"en"}},"$zfXr6Z79vl");j(()=>{l.value&&(x.value=l.value)})}V.value=!1};E();const Q=async()=>{await g(`${_.DeleteTalk}/${N.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$a3cStTYBGI"),E(),p.value=!1,I.value==="en"?m.success("Information Deleted Successfully",{durations:{global:5e3}}):m.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},W=async()=>{var o,v,U;const l=new FormData;l.append("description_AR",y.value),l.append("description_EN",w.value),l.append("photoPath",L.value);const{data:a}=await g(_.AddTalk,{baseURL:u,credentials:"include",method:"POST",body:l},"$Editu2Ick2");k.value=!1,y.value="",w.value="",D.value=null,L.value=null,(o=a.value)!=null&&o.plantTalkId?I.value==="en"?m.success("Information Added Successfully",{durations:{global:5e3}}):m.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):I.value==="en"?m.alert("error occurd: "+((v=a.value)==null?void 0:v.error),{durations:{global:5e3}}):m.alert(": حدث خطأ"+((U=a.value)==null?void 0:U.error),{durations:{global:5e3}}),E(),k.value=!1,phone.value="",email.value="",website.value=""},X=async l=>{const{data:a}=await g(`${_.GetTalkById}/${C.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$eLgjj0WTXP"),{data:o}=await g(`${_.GetTalkById}/${C.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$Pg3p461okz");h.value=a.value.description,$.value=o.value.description,R.value=u+"/"+o.value.photo,F.value=null};let C=d();const Z=async()=>{const l=new FormData;l.append("description_AR",h.value),l.append("description_EN",$.value),l.append("photoPath",F.value),await g(`${_.UpdateTalk}/${C.value.id}`,{credentials:"include",body:l,baseURL:u,method:"PUT"},"$fox26OqlFB"),E(),A.value=!1,h.value="",$.value="",F.value=null,R.value=null,I.value==="en"?m.success("Category Edited Successfully",{durations:{global:5e3}}):m.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(l,a)=>{const o=K,v=ve,U=pe,H=ee;return f(),b(M,null,[e("div",{class:ae(["contain",("useSidebar"in l?l.useSidebar:i(de))().value?"shrink":""])},[e("div",fe,[e("div",be,[e("h4",_e,s(l.$i18n.locale==="ar"?"الصحافة النباتية":"Plant Press"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:a[0]||(a[0]=t=>k.value=!0)},[r(o,{icon:["fas","plus"]}),z(" "+s(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:a[1]||(a[1]=t=>E())},[r(o,{icon:["fas","rotate-right"]}),z(" "+s(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",$e,[i(V)?(f(),b("div",ge,ye)):(f(),b("div",we,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(l.$i18n.locale==="ar"?"الصورة":"Photo"),1),e("th",null,s(l.$i18n.locale==="ar"?"الوصف":"Description"),1),e("th",null,s(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(f(!0),b(M,null,le(i(x),t=>{var n;return f(),b("tr",{class:"rows",key:t.id},[e("td",null,[e("div",null,[e("span",null,[e("img",{height:"100",src:i(u)+"/"+t.photo,alt:""},null,8,De)])])]),e("td",null,[e("div",null,[e("span",null,s(((n=t.description)==null?void 0:n.length)>30?t.description.slice(0,30)+"...":t.description),1)])]),e("td",null,[e("span",{class:"delete",onClick:J=>{c(p)?p.value=!0:p=!0,c(N)?N.value=t:N=t}},[r(o,{icon:["fas","trash"]})],8,Ce),e("span",Ie,[e("span",{class:"edit",onClick:J=>{A.value=!0,c(C)?C.value=t:C=t,X()}},[r(o,{icon:["fas","pen-to-square"]})],8,Ae)])])])}),128))])])]))])],2),r(U,{visible:i(k),"onUpdate:visible":a[6]||(a[6]=t=>c(k)?k.value=t:null),modal:"",style:{width:"50rem"}},{container:S(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Ee,s(l.$i18n.locale==="ar"?"إضافة قسم جديد":"Add New Part"),1),e("div",Ue,[e("div",null,[e("div",Se,[P(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=n=>c(y)?y.value=n:y=n),id:"description_AR",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Te),[[B,i(y)]]),e("label",Fe,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Le,[P(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=n=>c(w)?w.value=n:w=n),id:"description_En",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",required:""},null,8,Ne),[[B,i(w)]]),e("label",Pe,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Be,[e("div",Ve,[r(v,{mode:"basic",onSelect:O,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(D)?(f(),b("img",{key:0,src:i(D),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,xe)):q("",!0),i(D)?(f(),b("button",{key:1,class:"btn btn-danger clear",onClick:a[4]||(a[4]=se(n=>{D.value=null,L.value=null},["prevent"]))},[r(o,{class:"xmark",icon:["fas","xmark"]})])):q("",!0)])])])]),e("div",qe,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,ze),e("button",{class:"btn btn-success mx-2",onClick:a[5]||(a[5]=n=>W()),autofocus:""},s(l.$t("Add")),1)])],8,Re)]),_:1},8,["visible"]),r(U,{visible:i(A),"onUpdate:visible":a[10]||(a[10]=t=>c(A)?A.value=t:null),modal:"",style:{width:"50rem"}},{container:S(({closeCallback:t})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,s(l.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",je,[e("div",null,[e("div",Ge,[P(e("textarea",{"onUpdate:modelValue":a[7]||(a[7]=n=>c(h)?h.value=n:h=n),id:"editDescription_AR",type:"text",autocomplete:"off",rows:"5",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Oe),[[B,i(h)]]),e("label",Ye,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Qe,[P(e("textarea",{"onUpdate:modelValue":a[8]||(a[8]=n=>c($)?$.value=n:$=n),id:"editDescription_EN",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",rows:"5",required:""},null,8,We),[[B,i($)]]),e("label",Xe,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Ze,[e("div",He,[r(v,{mode:"basic",onSelect:G,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(R)?(f(),b("img",{key:0,src:i(R),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Je)):q("",!0)])])])]),e("div",Ke,[e("button",{class:"btn btn-secondary",onClick:t},s(l.$t("Close")),9,el),e("button",{class:"btn btn-success mx-2",onClick:a[9]||(a[9]=n=>Z()),autofocus:""},s(l.$t("Edit")),1)])],8,Me)]),_:1},8,["visible"]),r(H,{isOpen:i(p),onUpdateIsOpen:Y},{header:S(()=>[e("h4",null,s(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:S(()=>[e("p",null,s(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+s(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:S(()=>[e("button",{class:"btn btn-secondary",onClick:a[11]||(a[11]=t=>c(p)?p.value=!1:p=!1)},s(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:a[12]||(a[12]=t=>Q())},s(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},_l=ne(ll,[["__scopeId","data-v-426fdb4a"]]);export{_l as default};
