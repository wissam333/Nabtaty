import{_ as W}from"./C2n-eNo5.js";import{_ as x}from"./EliaPgF0.js";import{_ as H,u as J,b as K,a as Q,c as X,d as Z}from"./Cvcrh2Yh.js";import{a as n,a3 as U,D as N,a8 as e,a0 as s,M as b,Y as M,u as i,F as T,af as ee,ag as ae,a4 as R,z as d,w as B,Q as y,a1 as L,a6 as le,a7 as se}from"./BUNOv-RT.js";import{u as f}from"./DyfGw3PU.js";import{s as te}from"./WqbCezC2.js";import"./Br5MGdbk.js";import"./B9pFHlBz.js";import"./BYq4jeym.js";import"./DNid8dD2.js";import"./DNqlr56Z.js";import"./Dt4jQ2HW.js";import"./Be5GD7Hg.js";const oe=D=>(le("data-v-219a3b2c"),D=D(),se(),D),ne={class:"title-container"},ie={class:"head-title"},de={class:"header4"},ce={class:"options"},re={class:"table-responsive"},ue={key:0,class:"loading"},pe=oe(()=>e("img",{src:X,alt:""},null,-1)),me=[pe],ve={key:1,class:"product-tabel"},be={class:"d-flex align-items-center"},fe={class:"fw-bold"},he={class:"fw-bold"},_e=["onClick"],$e={class:"edit-link"},ge=["onClick"],ye=["dir"],Le={class:"content"},Ee={class:"d-flex flex-column-reverse mb-3"},Ae=["placeholder"],Ce={for:"nameAr"},ke={class:"d-flex flex-column-reverse mb-3"},we=["placeholder"],Ue={for:"nameEn"},Ne={class:"d-flex flex-column-reverse mb-3"},Re=["placeholder"],De={for:"price"},Se={class:"mt-5 d-flex w-100 justify-content-end"},Pe=["onClick"],qe=["dir"],Ie={class:"content"},Ve={class:"d-flex flex-column-reverse mb-3"},Me=["placeholder"],Te={for:"editnameAr"},Be={class:"d-flex flex-column-reverse mb-3"},je=["placeholder"],Ge={for:"editnameEn"},Ye={class:"d-flex flex-column-reverse mb-3"},Oe=["placeholder"],Fe={for:"price"},ze={class:"mt-5 d-flex w-100 justify-content-end"},We=["onClick"],xe={__name:"Locations",setup(D){const{public:{api:r,apiBase:u}}=Q(),{locale:S}=J(),{$awn:h}=Z(),E=n(!1),A=n(!1);let _=n(),$=n(),C=n(),p=n(),m=n(),v=n(),k=n(),c=n(!1);const j=a=>{c.value=a};let q=n(!1),I=n();const w=async()=>{if(q.value=!0,S.value==="ar"){const{data:a,pending:l}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$iJekxnpLPp");B(()=>{a.value&&(I.value=a.value)})}else{const{data:a,pending:l}=await f(`${r.GetAllLocations}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$CDppY2mjMU");B(()=>{a.value&&(I.value=a.value)})}q.value=!1};w();const G=async()=>{await f(`${r.DeleteLocation}/${k.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$acGf8P1RLb"),w(),c.value=!1,S.value==="en"?h.success("Location Deleted Successfully",{durations:{global:5e3}}):h.success("تم حذف المنطقة بنجاح",{durations:{global:5e3}})},Y=async()=>{E.value=!1,await f(r.AddLocation,{baseURL:u,method:"POST",credentials:"include",body:{location_name_AR:_.value,location_name_EN:$.value,price:C.value}},"$8ASMydNMqY"),w(),_.value="",$.value="",S.value==="en"?h.success("Location Added Successfully",{durations:{global:5e3}}):h.success("تم إضافة المنطقة بنجاح",{durations:{global:5e3}})};let g=n();const O=async()=>{const{data:a}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$WTZHIqK9bj"),{data:l}=await f(`${r.GetLocationById}/${g.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$9R5exyN0nv");p.value=a.value.name,m.value=l.value.name,v.value=l.value.price},F=async()=>{A.value=!1,await f(`${r.UpdateLocation}/${g.value.id}`,{credentials:"include",body:{location_name_AR:p.value,location_name_EN:m.value,price:v.value},baseURL:u,method:"PUT"},"$8ycXUnchj3"),w(),p.value="",m.value="",v.value=0,S.value==="en"?h.success("Location Edited Successfully",{durations:{global:5e3}}):h.success("تم تعديل المنطقة بنجاح",{durations:{global:5e3}})};return(a,l)=>{const P=W,V=te,z=x;return U(),N(T,null,[e("div",{class:ae(["contain",("useSidebar"in a?a.useSidebar:i(K))().value?"shrink":""])},[e("div",ne,[e("div",ie,[e("h4",de,s(a.$i18n.locale==="ar"?"قائمة المناطق":"Regions List"),1)]),e("div",ce,[e("div",{class:"reload btn btn-success mx-2",onClick:l[0]||(l[0]=t=>E.value=!0)},[b(P,{icon:["fas","plus"]}),M(" "+s(a.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:l[1]||(l[1]=t=>w())},[b(P,{icon:["fas","rotate-right"]}),M(" "+s(a.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",re,[i(q)?(U(),N("div",ue,me)):(U(),N("div",ve,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(a.$i18n.locale==="ar"?"الاسم":"Name"),1),e("th",null,s(a.$i18n.locale==="ar"?"السعر":"Price"),1),e("th",null,s(a.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(U(!0),N(T,null,ee(i(I),t=>(U(),N("tr",{class:"rows",key:t.id},[e("td",be,[e("h5",fe,s(t.name),1)]),e("td",he,"$"+s(t.price),1),e("td",null,[e("span",{class:"delete",onClick:o=>{d(c)?c.value=!0:c=!0,d(k)?k.value=t:k=t}},[b(P,{icon:["fas","trash"]})],8,_e),e("span",$e,[e("span",{class:"edit",onClick:o=>{A.value=!0,d(g)?g.value=t:g=t,O()}},[b(P,{icon:["fas","pen-to-square"]})],8,ge)])])]))),128))])])]))])],2),b(V,{visible:i(E),"onUpdate:visible":l[5]||(l[5]=t=>d(E)?E.value=t:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:t})=>[e("div",{class:"dialog",dir:a.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(a.$i18n.locale==="ar"?"إضافة منطقة جديدة":"Add New Region"),1),e("div",Le,[e("div",null,[e("div",Ee,[y(e("input",{"onUpdate:modelValue":l[2]||(l[2]=o=>d(_)?_.value=o:_=o),id:"nameAr",type:"text",required:"",autocomplete:"off",placeholder:a.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,Ae),[[L,i(_)]]),e("label",Ce,s(a.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",ke,[y(e("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>d($)?$.value=o:$=o),id:"nameEn",type:"text",required:"",autocomplete:"off",placeholder:a.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,we),[[L,i($)]]),e("label",Ue,s(a.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",Ne,[y(e("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>d(C)?C.value=o:C=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:a.$i18n.locale==="ar"?"السعر":"Price"},null,8,Re),[[L,i(C)]]),e("label",De,s(a.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",Se,[e("button",{class:"btn btn-secondary",onClick:t},s(a.$t("Close")),9,Pe),e("button",{class:"btn btn-success mx-2",onClick:Y,autofocus:""},s(a.$t("Add")),1)])],8,ye)]),_:1},8,["visible"]),b(V,{visible:i(A),"onUpdate:visible":l[9]||(l[9]=t=>d(A)?A.value=t:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:t})=>[e("div",{class:"dialog",dir:a.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,s(a.$i18n.locale==="ar"?"تعديل المنطقة":"Edit Region"),1),e("div",Ie,[e("div",null,[e("div",Ve,[y(e("input",{"onUpdate:modelValue":l[6]||(l[6]=o=>d(p)?p.value=o:p=o),id:"editnameAr",type:"text",required:"",autocomplete:"off",placeholder:a.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name",title:"Enter only letters and spaces"},null,8,Me),[[L,i(p)]]),e("label",Te,s(a.$i18n.locale==="ar"?"الاسم بالعربي":"Arabic Name"),1)]),e("div",Be,[y(e("input",{"onUpdate:modelValue":l[7]||(l[7]=o=>d(m)?m.value=o:m=o),id:"editnameEn",type:"text",required:"",autocomplete:"off",placeholder:a.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"},null,8,je),[[L,i(m)]]),e("label",Ge,s(a.$i18n.locale==="ar"?"الاسم بالانجليزي":"English Name"),1)]),e("div",Ye,[y(e("input",{"onUpdate:modelValue":l[8]||(l[8]=o=>d(v)?v.value=o:v=o),id:"price",type:"number",required:"",maxlength:"6",min:"0",placeholder:a.$i18n.locale==="ar"?"السعر":"Price"},null,8,Oe),[[L,i(v)]]),e("label",Fe,s(a.$i18n.locale==="ar"?"السعر":"Price"),1)])])]),e("div",ze,[e("button",{class:"btn btn-secondary",onClick:t},s(a.$t("Close")),9,We),e("button",{class:"btn btn-success mx-2",onClick:F,autofocus:""},s(a.$t("Edit")),1)])],8,qe)]),_:1},8,["visible"]),b(z,{isOpen:i(c),onUpdateIsOpen:j},{header:R(()=>[e("h4",null,s(a.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:R(()=>[e("p",null,s(a.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+' "'+s(i(k).name)+'"'+s(a.$i18n.locale==="ar"?"؟":"?"),1)]),footer:R(()=>[e("button",{class:"btn btn-secondary",onClick:l[10]||(l[10]=t=>d(c)?c.value=!1:c=!1)},s(a.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:l[11]||(l[11]=t=>G())},s(a.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},ia=H(xe,[["__scopeId","data-v-219a3b2c"]]);export{ia as default};
