import{_ as X}from"./BufMpdKz.js";import{_ as ee}from"./BNstJ_gz.js";import{a as d,a3 as b,D as f,a8 as e,a0 as s,M as r,Y as z,u as i,F as G,af as le,ag as te,a4 as S,z as c,w as q,Q as T,a1 as B,a5 as x,$ as se,a6 as ae,a7 as oe}from"./Bynz-MEc.js";import{_ as ne,u as ie,b as de,a as re,c as ce,d as ue}from"./DC6DYEp4.js";import{u as g}from"./BhYxPRj1.js";import{s as pe}from"./CmdRSIcI.js";import{s as ve}from"./CQizLKOM.js";import"./DOKlKRzF.js";import"./9ishBx2H.js";import"./DlK-W-L0.js";import"./B53viXrh.js";import"./BFMvh4il.js";import"./CoVRHfFE.js";import"./DnTz2Abb.js";import"./Yr3i5D8o.js";const me=N=>(ae("data-v-63dbe907"),N=N(),oe(),N),be={class:"title-container"},fe={class:"head-title"},_e={class:"header4"},he={class:"options"},$e={class:"table-responsive"},ge={key:0,class:"loading"},ye=me(()=>e("img",{src:ce,alt:""},null,-1)),we=[ye],De={key:1,class:"cat-tabel"},Ae=["src"],ke=["onClick"],Ce={class:"edit-link"},Ie=["onClick"],Ee=["dir"],Re={class:"fw-bold mb-5"},Ue={class:"content"},Se={class:"d-flex flex-column-reverse mb-3"},Ne=["placeholder"],Fe={for:"description_AR"},Le={class:"d-flex flex-column-reverse mb-3"},Ve=["placeholder"],Te={for:"description_En"},Be={class:"drop-area my-4"},Me={class:"upload-box"},Ye=["src"],xe={class:"mt-5 d-flex w-100 justify-content-end"},ze=["onClick"],Ge=["dir"],qe={class:"content"},Oe={class:"d-flex flex-column-reverse mb-3"},Pe=["placeholder"],je={for:"editDescription_AR"},Qe={class:"d-flex flex-column-reverse mb-3"},We=["placeholder"],He={for:"editDescription_EN"},Ze={class:"drop-area my-4"},Je={class:"upload-box"},Ke=["src"],Xe={class:"mt-5 d-flex w-100 justify-content-end"},el=["onClick"],ll={__name:"About",setup(N){const{public:{api:_,apiBase:u}}=re(),{locale:C}=ie(),{$awn:m}=ue(),y=d(!1),I=d(!1);let h=d(),$=d(),w=d(),D=d();const E=d(null),F=d(null);function O(l){const t=l.files[0];F.value=t;const o=new FileReader;o.onload=async v=>{E.value=v.target.result},o.readAsDataURL(t)}const A=d(null),L=d(null);function P(l){const t=l.files[0];L.value=t;const o=new FileReader;o.onload=async v=>{A.value=v.target.result},o.readAsDataURL(t)}let V=d(),p=d(!1);const j=l=>{p.value=l};let M=d(!1),Y=d();const R=async()=>{if(M.value=!0,C.value==="ar"){const{data:l,pending:t}=await g(`${_.GetAbout}`,{baseURL:u,credentials:"include",headers:{"accept-language":"ar"}},"$MsTum3Elak");q(()=>{l.value&&(Y.value=l.value)})}else{const{data:l,pending:t}=await g(`${_.GetAbout}`,{baseURL:u,credentials:"include",headers:{"accept-language":"en"}},"$mSCVaiIYnZ");q(()=>{l.value&&(Y.value=l.value)})}M.value=!1};R();const Q=async()=>{await g(`${_.DeleteAbout}/${V.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$QrYz9VTRuo"),R(),p.value=!1,C.value==="en"?m.success("Information Deleted Successfully",{durations:{global:5e3}}):m.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},W=async()=>{var o,v,U;const l=new FormData;l.append("description_AR",w.value),l.append("description_EN",D.value),l.append("photo",L.value);const{data:t}=await g(_.AddAbout,{baseURL:u,credentials:"include",method:"POST",body:l},"$H1NjnaYrG1");y.value=!1,w.value="",D.value="",A.value=null,L.value=null,(o=t.value)!=null&&o.aboutUsId?C.value==="en"?m.success("Information Added Successfully",{durations:{global:5e3}}):m.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):C.value==="en"?m.alert("error occurd: "+((v=t.value)==null?void 0:v.error),{durations:{global:5e3}}):m.alert(": حدث خطأ"+((U=t.value)==null?void 0:U.error),{durations:{global:5e3}}),R(),y.value=!1,phone.value="",email.value="",website.value=""},H=async l=>{const{data:t}=await g(`${_.GetAboutById}/${k.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$Q3B9Ydg2Ir"),{data:o}=await g(`${_.GetAboutById}/${k.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$ylGz2pNEoT");h.value=t.value.description,$.value=o.value.description,E.value=u+"/"+o.value.photo,F.value=null};let k=d();const Z=async()=>{const l=new FormData;l.append("description_AR",h.value),l.append("description_EN",$.value),l.append("photo",F.value),await g(`${_.UpdateAbout}/${k.value.id}`,{credentials:"include",body:l,baseURL:u,method:"PUT"},"$7mN5WhS9kv"),R(),I.value=!1,h.value="",$.value="",E.value=null,F.value=null,C.value==="en"?m.success("Category Edited Successfully",{durations:{global:5e3}}):m.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(l,t)=>{const o=X,v=ve,U=pe,J=ee;return b(),f(G,null,[e("div",{class:te(["contain",("useSidebar"in l?l.useSidebar:i(de))().value?"shrink":""])},[e("div",be,[e("div",fe,[e("h4",_e,s(l.$i18n.locale==="ar"?"معلومات التواصل":"About Information"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:t[0]||(t[0]=a=>y.value=!0)},[r(o,{icon:["fas","plus"]}),z(" "+s(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:t[1]||(t[1]=a=>R())},[r(o,{icon:["fas","rotate-right"]}),z(" "+s(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",$e,[i(M)?(b(),f("div",ge,we)):(b(),f("div",De,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,s(l.$i18n.locale==="ar"?"الصورة":"Photo"),1),e("th",null,s(l.$i18n.locale==="ar"?"الوصف":"Description"),1),e("th",null,s(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(b(!0),f(G,null,le(i(Y),a=>{var n;return b(),f("tr",{class:"rows",key:a.id},[e("td",null,[e("div",null,[e("span",null,[e("img",{height:"100",src:i(u)+"/"+a.photo,alt:""},null,8,Ae)])])]),e("td",null,[e("div",null,[e("span",null,s(((n=a.description)==null?void 0:n.length)>30?a.description.slice(0,30)+"...":a.description),1)])]),e("td",null,[e("span",{class:"delete",onClick:K=>{c(p)?p.value=!0:p=!0,c(V)?V.value=a:V=a}},[r(o,{icon:["fas","trash"]})],8,ke),e("span",Ce,[e("span",{class:"edit",onClick:K=>{I.value=!0,c(k)?k.value=a:k=a,H()}},[r(o,{icon:["fas","pen-to-square"]})],8,Ie)])])])}),128))])])]))])],2),r(U,{visible:i(y),"onUpdate:visible":t[6]||(t[6]=a=>c(y)?y.value=a:null),modal:"",style:{width:"50rem"}},{container:S(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Re,s(l.$i18n.locale==="ar"?"إضافة قسم جديد":"Add New Part"),1),e("div",Ue,[e("div",null,[e("div",Se,[T(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=n=>c(w)?w.value=n:w=n),id:"description_AR",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Ne),[[B,i(w)]]),e("label",Fe,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Le,[T(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=n=>c(D)?D.value=n:D=n),id:"description_En",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",required:""},null,8,Ve),[[B,i(D)]]),e("label",Te,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Be,[e("div",Me,[r(v,{mode:"basic",onSelect:P,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(A)?(b(),f("img",{key:0,src:i(A),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Ye)):x("",!0),i(A)?(b(),f("button",{key:1,class:"btn btn-danger clear",onClick:t[4]||(t[4]=se(n=>{A.value=null,L.value=null},["prevent"]))},[r(o,{class:"xmark",icon:["fas","xmark"]})])):x("",!0)])])])]),e("div",xe,[e("button",{class:"btn btn-secondary",onClick:a},s(l.$t("Close")),9,ze),e("button",{class:"btn btn-success mx-2",onClick:t[5]||(t[5]=n=>W()),autofocus:""},s(l.$t("Add")),1)])],8,Ee)]),_:1},8,["visible"]),r(U,{visible:i(I),"onUpdate:visible":t[10]||(t[10]=a=>c(I)?I.value=a:null),modal:"",style:{width:"50rem"}},{container:S(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,s(l.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",qe,[e("div",null,[e("div",Oe,[T(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>c(h)?h.value=n:h=n),id:"editDescription_AR",type:"text",autocomplete:"off",rows:"5",placeholder:l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Pe),[[B,i(h)]]),e("label",je,s(l.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Qe,[T(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=n=>c($)?$.value=n:$=n),id:"editDescription_EN",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",rows:"5",required:""},null,8,We),[[B,i($)]]),e("label",He,s(l.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Ze,[e("div",Je,[r(v,{mode:"basic",onSelect:O,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(E)?(b(),f("img",{key:0,src:i(E),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Ke)):x("",!0)])])])]),e("div",Xe,[e("button",{class:"btn btn-secondary",onClick:a},s(l.$t("Close")),9,el),e("button",{class:"btn btn-success mx-2",onClick:t[9]||(t[9]=n=>Z()),autofocus:""},s(l.$t("Edit")),1)])],8,Ge)]),_:1},8,["visible"]),r(J,{isOpen:i(p),onUpdateIsOpen:j},{header:S(()=>[e("h4",null,s(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:S(()=>[e("p",null,s(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+s(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:S(()=>[e("button",{class:"btn btn-secondary",onClick:t[11]||(t[11]=a=>c(p)?p.value=!1:p=!1)},s(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:t[12]||(t[12]=a=>Q())},s(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},_l=ne(ll,[["__scopeId","data-v-63dbe907"]]);export{_l as default};
