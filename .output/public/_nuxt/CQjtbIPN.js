import{_ as j}from"./D1bzBa5v.js";import{_ as N}from"./D_zfTIzM.js";import{_ as A,b as v,c as B,n as R,a as F}from"./BFewDHxV.js";import{u as m}from"./NC8U3_VN.js";import{_ as O}from"./L0vVUHod.js";import{_ as Q}from"./BYh_R3bS.js";import{_ as D}from"./BYTdkqbC.js";import{ah as V,a3 as c,D as l,a8 as t,a0 as s,u as r,F as z,ag as L,Y as M,ac as P,a4 as h,M as d,a5 as w,aa as T,a6 as Y,a7 as J}from"./Bm3a7n3s.js";const y=_=>(Y("data-v-105c7bc9"),_=_(),J(),_),K={class:"cart nav-margin"},U={class:"title"},W={class:"d-flex align-items-center justify-content-center"},G=y(()=>t("img",{width:"70",src:O,alt:""},null,-1)),H={class:"underline"},X={class:"container"},Z={key:0,class:"row"},tt={class:"col-lg-8"},et=y(()=>t("div",{class:"leaf"},[t("img",{src:Q,alt:""})],-1)),st=y(()=>t("div",{class:"leaf2"},[t("img",{src:D,alt:""})],-1)),ot={class:"imagebox"},at=["src"],nt={class:"mx-5",style:{display:"flex","flex-direction":"column","justify-content":"space-around"}},ct={class:"fw-bold"},it={key:0,class:"text-muted fw-bold"},lt={class:"color price fw-bold"},rt={class:"d-flex align-items-center justify-space-between mb-2"},dt={style:{border:"2px solid #003d2ec2"},class:"d-inline-flex align-items-center py-2 px-10"},_t=["id","data-qty"],pt=["onClick"],ut={class:"col-lg-4"},mt={class:"result-box",style:{border:"2px solid #003d2ec2","border-radius":"8px","padding-bottom":"10px"}},ht={class:"background text-white fw-bold d-flex justify-space-between px-3 p-2"},yt={class:"text-white"},ft={class:"text-white"},bt={class:"text-white"},gt={class:"d-flex justify-content-between align-items-center px-8 mt-5"},xt={class:"text-black fw-bold"},vt={class:"totalPrice fw-bold text-black",style:{"font-size":"20px"}},wt={class:"text-center mt-5"},kt={class:"Check background px-5 py-2 text-white"},Ct={class:"Check background px-5 py-2 text-white"},$t={class:"Check background px-5 py-2 text-white"},qt={key:1,class:"bg- d-flex justify-center align-items-center",style:{height:"calc(100vh - 300px)"}},It={class:"text-center"},Et={class:"background px-10 py-3 text-white mx-auto"},St={__name:"Cart",setup(_){const p=v(),k=B(),{public:{api:jt,apiBase:C}}=F(),$=(e,i)=>{const a=document.getElementById(`quantity_${e}`);if(new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let n=parseInt(a.dataset.qty)+1;a.setAttribute("data-qty",n),a.textContent=n,m().CartincreaseQty(i)}},q=(e,i)=>{const a=document.getElementById(`quantity_${e}`);if(parseInt(a.dataset.qty)>1&&new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let n=parseInt(a.dataset.qty)-1;a.setAttribute("data-qty",n),a.textContent=n,m().CartdecreaseQty(i)}},I=e=>{m().removeItemFromCart(e)};console.log(p.value);const E=()=>{let e=JSON.parse(localStorage.getItem("userInfo"));if(e!=null&&e.email)R("/order");else{const i="https://server.nabtaty.com";window.location.href=`${i}/auth/providers/google`}};return(e,i)=>{var f;const a=j,n=N,S=V("v-icon");return c(),l("div",K,[t("div",U,[t("h1",W,[G,t("span",H,s(e.$i18n.locale==="ar"?"سلة المشتريات":"My Cart"),1)])]),t("div",X,[r(p).totalQty>0?(c(),l("div",Z,[t("div",tt,[(c(!0),l(z,null,L(r(p).items,(o,u)=>{var b,g;return c(),l("div",{class:"cartbox mb-5 d-flex justify-start",key:o.id},[et,st,t("div",ot,[(b=o.item)!=null&&b.photos[0]?(c(),l("img",{key:0,src:`${r(C)}/${(g=o.item)==null?void 0:g.photos[0].photoPath}`,width:"250",height:"180",class:"",alt:""},null,8,at)):w("",!0)]),t("div",nt,[t("h4",ct,s((e.$i18n.locale=="en",o.item.plant_name)),1),o.item.note!=""?(c(),l("p",it,s(o.item.note),1)):w("",!0),t("p",lt,s(o.price)+" "+s(e.$i18n.locale==="ar"?"درهم إماراتي":"AED"),1),t("div",rt,[t("div",dt,[d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:x=>q(o.id,u),icon:["fas","minus"]},null,8,["onClick"]),t("span",{class:"mx-3 quantity",id:`quantity_${o.id}`,"data-qty":o.qty},s(o.qty),9,_t),d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:x=>$(o.id,u),icon:["fas","plus"]},null,8,["onClick"])]),t("button",{class:T(["mb-0 text-white border-0 rounded-0 mx-5 btn delete",e.$i18n.locale==="en"?"en":""]),onClick:x=>I(u)},s(e.$i18n.locale=="en"?"REMOVE":"حذف"),11,pt)])])])}),128))]),t("div",ut,[t("div",mt,[t("h4",ht,[t("span",yt,s(e.$i18n.locale=="en"?"Summary":"ملخص"),1),t("span",ft,[M(s(("useCart"in e?e.useCart:r(v))().value.totalQty)+" ",1),t("span",bt,s(e.$i18n.locale=="en"?"Item":"عنصر"),1)])]),t("div",gt,[t("span",xt,s(e.$i18n.locale=="ar"?"الطلب الكلي ":"Order Total"),1),t("span",vt,s((f=r(p).totalPrice)==null?void 0:f.toFixed(2))+" "+s(e.$i18n.locale==="ar"?"درهم إماراتي":"AED"),1)]),t("div",wt,[r(k).isAuthenticated?(c(),P(n,{key:0,class:"w-75",to:"/order"},{default:h(()=>[t("button",kt,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"ORDER NOW"),1)]),_:1})):(c(),l("span",{key:1,class:"w-75",onClick:i[0]||(i[0]=o=>E())},[t("button",Ct,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"Order Now"),1)])),d(n,{class:"mx-1",to:"/"},{default:h(()=>[t("button",$t,s(e.$i18n.locale=="ar"?"تابع التسوق":"Keep Shopping"),1)]),_:1})])])])])):(c(),l("div",qt,[t("div",null,[t("h5",It,[d(S,{size:"x-large",color:" darken-2",icon:"mdi-cart-off"})]),d(n,{to:"/",class:"d-flex justify-center mt-9 align-items-center"},{default:h(()=>[t("button",Et,s(e.$i18n.locale=="ar"?"املأ السلة":"Fill Your Cart"),1)]),_:1})])]))])])}}},Vt=A(St,[["__scopeId","data-v-105c7bc9"]]);export{Vt as default};
