import{_ as X}from"./C2n-eNo5.js";import{_ as ee}from"./EliaPgF0.js";import{_ as te,u as ae,b as le,a as se,c as oe,d as ne}from"./Cvcrh2Yh.js";import{a as i,a3 as r,D as c,a8 as e,a0 as l,M as u,Y as q,u as o,F as O,af as ie,ag as de,a4 as R,z as m,w as P,Q as V,a1 as x,a5 as B,$ as Y,a6 as re,a7 as ce}from"./BUNOv-RT.js";import{u as b}from"./DyfGw3PU.js";import{s as ue}from"./WqbCezC2.js";import{s as pe}from"./BeDnxGtr.js";import{_ as me}from"./CfPNh7No.js";import"./Br5MGdbk.js";import"./B9pFHlBz.js";import"./BYq4jeym.js";import"./DNid8dD2.js";import"./DNqlr56Z.js";import"./Dt4jQ2HW.js";import"./Be5GD7Hg.js";import"./D_QfMhsX.js";const ve=F=>(re("data-v-25cf99f6"),F=F(),ce(),F),fe={class:"title-container"},_e={class:"head-title"},be={class:"header4"},he={class:"options"},ge={class:"table-responsive"},ye={key:0,class:"loading"},$e=ve(()=>e("img",{src:oe,alt:""},null,-1)),Ce=[$e],ke={key:1,class:"cat-tabel"},we={class:"d-flex align-items-center"},Ee={class:"cat-img mx-2"},Ae=["src"],De={key:1,src:me,alt:""},Ie={class:"cat-info d-flex flex-column align-items-start"},Ue=["onClick"],Se={class:"edit-link"},Re=["onClick"],Fe=["dir"],Ne={class:"content"},Le={class:"d-flex flex-column-reverse mb-3"},Ve=["placeholder"],xe={for:"titleAr"},Be={class:"d-flex flex-column-reverse mb-3"},ze=["placeholder"],Me={for:"titleEn"},Te={class:"drop-area my-4"},qe={class:"upload-box"},Oe=["src"],Pe={class:"mt-5 d-flex w-100 justify-content-end"},Ye=["onClick"],Ge=["dir"],Qe={class:"content"},je={class:"d-flex flex-column-reverse mb-3"},He=["placeholder"],Ke={for:"edittitleAr"},Ze={class:"d-flex flex-column-reverse mb-3"},Je=["placeholder"],We={for:"edittitleEn"},Xe={class:"drop-area my-4"},et={class:"upload-box"},tt=["src"],at={class:"mt-5 d-flex w-100 justify-content-end"},lt=["onClick"],st={__name:"Category",setup(F){const{public:{api:f,apiBase:p}}=se(),{locale:N}=ae(),{$awn:h}=ne(),E=i(!1),A=i(!1);let D=i(),I=i(),g=i(),y=i(),U=i(),v=i(!1);const G=t=>{v.value=t};let z=i(!1),M=i();const L=async()=>{if(z.value=!0,N.value==="ar"){const{data:t,pending:a}=await b(`${f.findAllCategories}`,{credentials:"include",baseURL:p,headers:{"accept-language":"ar"}},"$FJ19DBBFI1");P(()=>{t.value&&(M.value=t.value)})}else{const{data:t,pending:a}=await b(`${f.findAllCategories}`,{credentials:"include",baseURL:p,headers:{"accept-language":"en"}},"$9lYKQQEgVe");P(()=>{t.value&&(M.value=t.value)})}z.value=!1};L();const Q=async()=>{await b(`${f.RemoveCat}/${U.value.id}`,{credentials:"include",baseURL:p,method:"DELETE"},"$LkaI59UOEh"),L(),v.value=!1,N.value==="en"?h.success("Category Deleted Successfully",{durations:{global:5e3}}):h.success("تم حذف الفئة بنجاح",{durations:{global:5e3}})},_=i(null),$=i(null);function j(t){const a=t.files[0];$.value=a;const d=new FileReader;d.onload=async w=>{_.value=w.target.result},d.readAsDataURL(a)}const C=i(null),S=i(null);function H(t){const a=t.files[0];S.value=a;const d=new FileReader;d.onload=async w=>{C.value=w.target.result},d.readAsDataURL(a)}const K=async()=>{const t=new FormData;t.append("category_name_AR",D.value),t.append("category_name_EN",I.value),S.value&&t.append("photoPath",S.value),await b(f.AddCat,{baseURL:p,method:"POST",credentials:"include",body:t},"$okLdEIHKAL"),E.value=!1,C.value=null,S.value=null,N.value==="en"?h.success("Category Added Successfully",{durations:{global:5e3}}):h.success("تم إضافة الفئة بنجاح",{durations:{global:5e3}})},Z=async()=>{const{data:t}=await b(`${f.GetCatById}/${k.value.id}`,{credentials:"include",baseURL:p,headers:{"accept-language":"ar"}},"$7GnBDYPmkZ"),{data:a}=await b(`${f.GetCatById}/${k.value.id}`,{credentials:"include",baseURL:p,headers:{"accept-language":"en"}},"$HrrVSFkZwz");y.value=a.value.category_name,g.value=t.value.category_name,$.value=p+"/"+a.value.photo,_.value=p+"/"+a.value.photo};let k=i();const J=async()=>{const t=new FormData;t.append("category_name_AR",g.value),t.append("category_name_EN",y.value),$.value&&t.append("photoPath",$.value),await b(`${f.EditCat}/${k.value.id}`,{credentials:"include",body:t,baseURL:p,method:"PUT"},"$CEX3arzEhg"),L(),A.value=!1,_.value=null,$.value=null,N.value==="en"?h.success("Category Edited Successfully",{durations:{global:5e3}}):h.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(t,a)=>{const d=X,w=pe,T=ue,W=ee;return r(),c(O,null,[e("div",{class:de(["contain",("useSidebar"in t?t.useSidebar:o(le))().value?"shrink":""])},[e("div",fe,[e("div",_e,[e("h4",be,l(t.$i18n.locale==="ar"?"قائمة الفئات":"Categories List"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:a[0]||(a[0]=s=>E.value=!0)},[u(d,{icon:["fas","plus"]}),q(" "+l(t.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:a[1]||(a[1]=s=>L())},[u(d,{icon:["fas","rotate-right"]}),q(" "+l(t.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",ge,[o(z)?(r(),c("div",ye,Ce)):(r(),c("div",ke,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,l(t.$i18n.locale==="ar"?"الاسم":"Name"),1),e("th",null,l(t.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(r(!0),c(O,null,ie(o(M),s=>(r(),c("tr",{class:"rows",key:s.id},[e("td",we,[e("div",Ee,[s.photo?(r(),c("img",{key:0,src:o(p)+"/"+s.photo,alt:""},null,8,Ae)):(r(),c("img",De))]),e("div",Ie,[e("h5",null,l(s.category_name),1)])]),e("td",null,[e("span",{class:"delete",onClick:n=>{m(v)?v.value=!0:v=!0,m(U)?U.value=s:U=s}},[u(d,{icon:["fas","trash"]})],8,Ue),e("span",Se,[e("span",{class:"edit",onClick:n=>{A.value=!0,m(k)?k.value=s:k=s,Z()}},[u(d,{icon:["fas","pen-to-square"]})],8,Re)])])]))),128))])])]))])],2),u(T,{visible:o(E),"onUpdate:visible":a[6]||(a[6]=s=>m(E)?E.value=s:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:s})=>[e("div",{class:"dialog",dir:t.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,l(t.$i18n.locale==="ar"?"إضافة فئة جديدة":"Add New Category"),1),e("div",Ne,[e("div",null,[e("div",Le,[V(e("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>m(D)?D.value=n:D=n),id:"titleAr",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic",title:"Enter only letters and spaces",required:""},null,8,Ve),[[x,o(D)]]),e("label",xe,l(t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic"),1)]),e("div",Be,[V(e("input",{"onUpdate:modelValue":a[3]||(a[3]=n=>m(I)?I.value=n:I=n),id:"titleEn",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English",required:"",title:"Enter only letters and spaces"},null,8,ze),[[x,o(I)]]),e("label",Me,l(t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English"),1)]),e("div",Te,[e("div",qe,[u(w,{mode:"basic",onSelect:H,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(C)?(r(),c("img",{key:0,src:o(C),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Oe)):B("",!0),o(C)?(r(),c("button",{key:1,class:"btn btn-danger clear",onClick:a[4]||(a[4]=Y(n=>{C.value=null,S.value=null},["prevent"]))},[u(d,{class:"xmark",icon:["fas","xmark"]})])):B("",!0)])])])]),e("div",Pe,[e("button",{class:"btn btn-secondary",onClick:s},l(t.$t("Close")),9,Ye),e("button",{class:"btn btn-success mx-2",onClick:a[5]||(a[5]=n=>K()),autofocus:""},l(t.$t("Add")),1)])],8,Fe)]),_:1},8,["visible"]),u(T,{visible:o(A),"onUpdate:visible":a[11]||(a[11]=s=>m(A)?A.value=s:null),modal:"",style:{width:"25rem"}},{container:R(({closeCallback:s})=>[e("div",{class:"dialog",dir:t.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",null,l(t.$i18n.locale==="ar"?"تعديل فئة":"Edit Category"),1),e("div",Qe,[e("div",null,[e("div",je,[V(e("input",{"onUpdate:modelValue":a[7]||(a[7]=n=>m(g)?g.value=n:g=n),id:"edittitleAr",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic",title:"Enter only letters and spaces",required:""},null,8,He),[[x,o(g)]]),e("label",Ke,l(t.$i18n.locale==="ar"?"الاسم باللغة العربية":"Name In Arabic"),1)]),e("div",Ze,[V(e("input",{"onUpdate:modelValue":a[8]||(a[8]=n=>m(y)?y.value=n:y=n),id:"edittitleEn",type:"text",autocomplete:"off",placeholder:t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English",required:"",title:"Enter only letters and spaces"},null,8,Je),[[x,o(y)]]),e("label",We,l(t.$i18n.locale==="ar"?"الاسم باللغة الانجليزية":"Name In English"),1)]),e("div",Xe,[e("div",et,[u(w,{mode:"basic",onSelect:j,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),o(_)?(r(),c("img",{key:0,src:o(_),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,tt)):B("",!0),o(_)?(r(),c("button",{key:1,class:"btn btn-danger clear",onClick:a[9]||(a[9]=Y(n=>{_.value=null,$.value=null},["prevent"]))},[u(d,{class:"xmark",icon:["fas","xmark"]})])):B("",!0)])])])]),e("div",at,[e("button",{class:"btn btn-secondary",onClick:s},l(t.$t("Close")),9,lt),e("button",{class:"btn btn-success mx-2",onClick:a[10]||(a[10]=n=>J()),autofocus:""},l(t.$t("Edit")),1)])],8,Ge)]),_:1},8,["visible"]),u(W,{isOpen:o(v),onUpdateIsOpen:G},{header:R(()=>[e("h4",null,l(t.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:R(()=>[e("p",null,l(t.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+' "'+l(o(U).category_name)+'"'+l(t.$i18n.locale==="ar"?"؟":"?"),1)]),footer:R(()=>[e("button",{class:"btn btn-secondary",onClick:a[12]||(a[12]=s=>m(v)?v.value=!1:v=!1)},l(t.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:a[13]||(a[13]=s=>Q())},l(t.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},$t=te(st,[["__scopeId","data-v-25cf99f6"]]);export{$t as default};
