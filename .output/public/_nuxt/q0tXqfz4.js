import{_ as G}from"./DKflVkIu.js";import{_ as J}from"./B9w3fTFW.js";import{_ as H,u as X,b as Z,a as K,c as x,d as ee}from"./CL2NgQFF.js";import{a as n,a3 as D,D as S,a8 as e,a0 as t,M as f,Y as N,u as i,F as W,af as le,ag as oe,a4 as L,z as d,w as M,Q as $,a1 as C,a6 as te,a7 as ae}from"./Bynz-MEc.js";import{u as V}from"./BAEcvYpB.js";import{s as se}from"./YPIrN2AI.js";import"./DDY5k0Pu.js";import"./CB4sQGfE.js";import"./SC-GlPWY.js";import"./CeCyhD5G.js";import"./CjGFIFbV.js";import"./CsXU1rC3.js";import"./BERoudhE.js";const ne=R=>(te("data-v-4fbde584"),R=R(),ae(),R),ie={class:"title-container"},de={class:"head-title"},ue={class:"header4"},re={class:"options"},ce={class:"table-responsive"},pe={key:0,class:"loading"},ve=ne(()=>e("img",{src:x,alt:""},null,-1)),me=[ve],fe={key:1,class:"cat-tabel"},be=["onClick"],he={class:"edit-link"},_e=["onClick"],$e=["dir"],Ce={class:"content"},ye={class:"d-flex flex-column-reverse mb-3"},ge=["placeholder"],we={for:"phone"},ke={class:"d-flex flex-column-reverse mb-3"},Ee=["placeholder"],Ie={for:"email"},Ue={class:"d-flex flex-column-reverse mb-3"},De=["placeholder"],Se={for:"website"},Le={class:"mt-5 d-flex w-100 justify-content-end"},Ve=["onClick"],Re=["dir"],Ae={class:"content"},qe={class:"d-flex flex-column-reverse mb-3"},Be=["placeholder"],Pe={for:"editPhone"},Te={class:"d-flex flex-column-reverse mb-3"},Ne=["placeholder"],We={for:"editEmail"},Me={class:"d-flex flex-column-reverse mb-3"},Oe=["placeholder"],Fe={for:"editWebsite"},Ye={class:"mt-5 d-flex w-100 justify-content-end"},ze=["onClick"],Qe={__name:"ContactInfo",setup(R){const{public:{api:y,apiBase:g}}=K(),{locale:w}=X(),{$awn:r}=ee(),k=n(!1),E=n(!1);let c=n(),p=n(),v=n(),b=n(),h=n(),_=n(),A=n(),u=n(!1);const O=l=>{u.value=l};let B=n(!1),P=n();const I=async()=>{if(B.value=!0,w.value==="ar"){const{data:l,pending:o}=await V(`${y.GetContactInfo}`,{credentials:"include",baseURL:g,headers:{"accept-language":"ar"}},"$VlvQJkWyyW");M(()=>{l.value&&(P.value=l.value)})}else{const{data:l,pending:o}=await V(`${y.GetContactInfo}`,{credentials:"include",baseURL:g,headers:{"accept-language":"en"}},"$vJTSmUgBmg");M(()=>{l.value&&(P.value=l.value)})}B.value=!1};I();const F=async()=>{await V(`${y.DeleteContactInfo}/${A.value.id}`,{credentials:"include",baseURL:g,method:"DELETE"},"$U3lQN6n0mY"),I(),u.value=!1,w.value==="en"?r.success("Information Deleted Successfully",{durations:{global:5e3}}):r.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},Y=async()=>{var o,m,U;const{data:l}=await V(y.AddContactInfo,{baseURL:g,method:"POST",credentials:"include",body:{phone:b.value,email:h.value,website:_.value}},"$BzB99axbPF");(o=l.value)!=null&&o.success?w.value==="en"?r.success("Information Added Successfully",{durations:{global:5e3}}):r.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):w.value==="en"?r.alert("error occurd: "+((m=l.value)==null?void 0:m.error),{durations:{global:5e3}}):r.alert(": حدث خطأ"+((U=l.value)==null?void 0:U.error),{durations:{global:5e3}}),I(),k.value=!1,b.value="",h.value="",_.value=""},z=async l=>{c.value=l.phone,p.value=l.email,v.value=l.website};let q=n();const Q=async()=>{await V(`${y.EditContactInfo}/${q.value.id}`,{credentials:"include",body:{phone:c.value,email:p.value,website:v.value},baseURL:g,method:"PUT"},"$HX1U6ZOnVI"),I(),E.value=!1,c.value="",p.value="",v.value="",w.value==="en"?r.success("Category Edited Successfully",{durations:{global:5e3}}):r.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(l,o)=>{var T;const m=G,U=se,j=J;return D(),S(W,null,[e("div",{class:oe(["contain",("useSidebar"in l?l.useSidebar:i(Z))().value?"shrink":""])},[e("div",ie,[e("div",de,[e("h4",ue,t(l.$i18n.locale==="ar"?"معلومات التواصل":"Contact Information"),1)]),e("div",re,[e("div",{class:"reload btn btn-success mx-2",onClick:o[0]||(o[0]=a=>k.value=!0)},[f(m,{icon:["fas","plus"]}),N(" "+t(l.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:o[1]||(o[1]=a=>I())},[f(m,{icon:["fas","rotate-right"]}),N(" "+t(l.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",ce,[i(B)?(D(),S("div",pe,me)):(D(),S("div",fe,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,t(l.$i18n.locale==="ar"?"الهاتف":"Phone"),1),e("th",null,t(l.$i18n.locale==="ar"?"البريد الإلكتروني":"Email"),1),e("th",null,t(l.$i18n.locale==="ar"?"الموقع":"Location"),1),e("th",null,t(l.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(D(!0),S(W,null,le((T=i(P))==null?void 0:T.data,a=>(D(),S("tr",{class:"rows",key:a.id},[e("td",null,[e("div",null,[e("span",null,t(a.phone),1)])]),e("td",null,[e("div",null,[e("span",null,t(a.email),1)])]),e("td",null,[e("div",null,[e("span",null,t(a.website),1)])]),e("td",null,[e("span",{class:"delete",onClick:s=>{d(u)?u.value=!0:u=!0,d(A)?A.value=a:A=a}},[f(m,{icon:["fas","trash"]})],8,be),e("span",he,[e("span",{class:"edit",onClick:s=>{E.value=!0,d(q)?q.value=a:q=a,z(a)}},[f(m,{icon:["fas","pen-to-square"]})],8,_e)])])]))),128))])])]))])],2),f(U,{visible:i(k),"onUpdate:visible":o[6]||(o[6]=a=>d(k)?k.value=a:null),modal:"",style:{width:"25rem"}},{container:L(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,t(l.$i18n.locale==="ar"?"إضافة فئة جديدة":"Add New Category"),1),e("div",Ce,[e("div",null,[e("div",ye,[$(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>d(b)?b.value=s:b=s),id:"phone",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الهاتف":"phone",required:""},null,8,ge),[[C,i(b)]]),e("label",we,t(l.$i18n.locale==="ar"?"الهاتف":"phone"),1)]),e("div",ke,[$(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>d(h)?h.value=s:h=s),id:"email",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"البريد الإلكتروني":"Email",required:""},null,8,Ee),[[C,i(h)]]),e("label",Ie,t(l.$i18n.locale==="ar"?"البريد الإلكتروني":"Email"),1)]),e("div",Ue,[$(e("input",{"onUpdate:modelValue":o[4]||(o[4]=s=>d(_)?_.value=s:_=s),id:"website",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الموقع":"Location",required:""},null,8,De),[[C,i(_)]]),e("label",Se,t(l.$i18n.locale==="ar"?"الموقع":"Location"),1)])])]),e("div",Le,[e("button",{class:"btn btn-secondary",onClick:a},t(l.$t("Close")),9,Ve),e("button",{class:"btn btn-success mx-2",onClick:o[5]||(o[5]=s=>Y()),autofocus:""},t(l.$t("Add")),1)])],8,$e)]),_:1},8,["visible"]),f(U,{visible:i(E),"onUpdate:visible":o[11]||(o[11]=a=>d(E)?E.value=a:null),modal:"",style:{width:"25rem"}},{container:L(({closeCallback:a})=>[e("div",{class:"dialog",dir:l.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,t(l.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",Ae,[e("div",null,[e("div",qe,[$(e("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>d(c)?c.value=s:c=s),id:"editPhone",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الهاتف":"phone",required:""},null,8,Be),[[C,i(c)]]),e("label",Pe,t(l.$i18n.locale==="ar"?"الهاتف":"phone"),1)]),e("div",Te,[$(e("input",{"onUpdate:modelValue":o[8]||(o[8]=s=>d(p)?p.value=s:p=s),id:"editEmail",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"البريد الإلكتروني":"Email",required:""},null,8,Ne),[[C,i(p)]]),e("label",We,t(l.$i18n.locale==="ar"?"البريد الإلكتروني":"Email"),1)]),e("div",Me,[$(e("input",{"onUpdate:modelValue":o[9]||(o[9]=s=>d(v)?v.value=s:v=s),id:"editWebsite",type:"text",autocomplete:"off",placeholder:l.$i18n.locale==="ar"?"الموقع":"Location",required:"",title:"Enter only letters and spaces"},null,8,Oe),[[C,i(v)]]),e("label",Fe,t(l.$i18n.locale==="ar"?"الموقع":"Location"),1)])])]),e("div",Ye,[e("button",{class:"btn btn-secondary",onClick:a},t(l.$t("Close")),9,ze),e("button",{class:"btn btn-success mx-2",onClick:o[10]||(o[10]=s=>Q()),autofocus:""},t(l.$t("Edit")),1)])],8,Re)]),_:1},8,["visible"]),f(j,{isOpen:i(u),onUpdateIsOpen:O},{header:L(()=>[e("h4",null,t(l.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:L(()=>[e("p",null,t(l.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+t(l.$i18n.locale==="ar"?"؟":"?"),1)]),footer:L(()=>[e("button",{class:"btn btn-secondary",onClick:o[12]||(o[12]=a=>d(u)?u.value=!1:u=!1)},t(l.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:o[13]||(o[13]=a=>F())},t(l.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},sl=H(Qe,[["__scopeId","data-v-4fbde584"]]);export{sl as default};
