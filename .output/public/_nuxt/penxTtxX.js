import{_ as K}from"./Ch5Sa6jZ.js";import{_ as ee}from"./DX_Q7PSB.js";import{a as d,a3 as f,D as b,a8 as e,a0 as a,M as r,Y as M,u as i,F as z,af as se,ag as le,a4 as U,z as c,w as O,Q as T,a1 as V,a5 as x,$ as ae,a6 as te,a7 as oe}from"./Bynz-MEc.js";import{_ as ne,u as ie,b as de,a as re,c as ce,d as ue}from"./ggi4YNCB.js";import{u as g}from"./BWQMGdzM.js";import{s as pe}from"./DS0BfLD8.js";import{s as ve}from"./2kUeg78A.js";import"./Bsjm0cNi.js";import"./Dj9urW5l.js";import"./D9hLvVIP.js";import"./BKHN_0FP.js";import"./CkBuMpX3.js";import"./BZxYlsYh.js";import"./Dx0W9_GM.js";import"./BtkzsP12.js";const me=S=>(te("data-v-4ad40a25"),S=S(),oe(),S),fe={class:"title-container"},be={class:"head-title"},_e={class:"header4"},he={class:"options"},$e={class:"table-responsive"},ge={key:0,class:"loading"},ye=me(()=>e("img",{src:ce,alt:""},null,-1)),we=[ye],De={key:1,class:"cat-tabel"},ke=["src"],Ce=["onClick"],Ae={class:"edit-link"},Ie=["onClick"],Ee=["dir"],Re={class:"fw-bold mb-5"},Pe={class:"content"},Ue={class:"d-flex flex-column-reverse mb-3"},Se=["placeholder"],Fe={for:"description_AR"},Ne={class:"d-flex flex-column-reverse mb-3"},Le=["placeholder"],Te={for:"description_En"},Ve={class:"drop-area my-4"},Be={class:"upload-box"},qe=["src"],xe={class:"mt-5 d-flex w-100 justify-content-end"},Me=["onClick"],ze=["dir"],Oe={class:"content"},Ge={class:"d-flex flex-column-reverse mb-3"},Ye=["placeholder"],je={for:"editDescription_AR"},Qe={class:"d-flex flex-column-reverse mb-3"},We=["placeholder"],He={for:"editDescription_EN"},Xe={class:"drop-area my-4"},Ze={class:"upload-box"},Je=["src"],Ke={class:"mt-5 d-flex w-100 justify-content-end"},es=["onClick"],ss={__name:"Press",setup(S){const{public:{api:_,apiBase:u}}=re(),{locale:A}=ie(),{$awn:m}=ue(),y=d(!1),I=d(!1);let h=d(),$=d(),w=d(),D=d();const E=d(null),F=d(null);function G(s){const l=s.files[0];F.value=l;const o=new FileReader;o.onload=async v=>{E.value=v.target.result},o.readAsDataURL(l)}const k=d(null),N=d(null);function Y(s){const l=s.files[0];N.value=l;const o=new FileReader;o.onload=async v=>{k.value=v.target.result},o.readAsDataURL(l)}let L=d(),p=d(!1);const j=s=>{p.value=s};let B=d(!1),q=d();const R=async()=>{if(B.value=!0,A.value==="ar"){const{data:s,pending:l}=await g(`${_.GetAllPress}`,{baseURL:u,credentials:"include",headers:{"accept-language":"ar"}},"$aip2vP7kun");O(()=>{s.value&&(q.value=s.value)})}else{const{data:s,pending:l}=await g(`${_.GetAllPress}`,{baseURL:u,credentials:"include",headers:{"accept-language":"en"}},"$V0HTh6luQr");O(()=>{s.value&&(q.value=s.value)})}B.value=!1};R();const Q=async()=>{await g(`${_.DeletePress}/${L.value.id}`,{credentials:"include",baseURL:u,method:"DELETE"},"$LN6YXLarTi"),R(),p.value=!1,A.value==="en"?m.success("Information Deleted Successfully",{durations:{global:5e3}}):m.success("تم حذف المعلومات بنجاح",{durations:{global:5e3}})},W=async()=>{var o,v,P;const s=new FormData;s.append("description_AR",w.value),s.append("description_EN",D.value),s.append("photoPath",N.value);const{data:l}=await g(_.AddPress,{baseURL:u,credentials:"include",method:"POST",body:s},"$STv7jPbIPB");y.value=!1,w.value="",D.value="",k.value=null,N.value=null,(o=l.value)!=null&&o.plantPressId?A.value==="en"?m.success("Information Added Successfully",{durations:{global:5e3}}):m.success("تم إضافة المعلومات بنجاح",{durations:{global:5e3}}):A.value==="en"?m.alert("error occurd: "+((v=l.value)==null?void 0:v.error),{durations:{global:5e3}}):m.alert(": حدث خطأ"+((P=l.value)==null?void 0:P.error),{durations:{global:5e3}}),R(),y.value=!1,phone.value="",email.value="",website.value=""},H=async s=>{const{data:l}=await g(`${_.GetPressById}/${C.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"ar"}},"$3oVs005Wl9"),{data:o}=await g(`${_.GetPressById}/${C.value.id}`,{credentials:"include",baseURL:u,headers:{"accept-language":"en"}},"$zZrcgtBnNd");h.value=l.value.description,$.value=o.value.description,E.value=u+"/"+o.value.photo,F.value=null};let C=d();const X=async()=>{const s=new FormData;s.append("description_AR",h.value),s.append("description_EN",$.value),s.append("photoPath",F.value),await g(`${_.UpdatePress}/${C.value.id}`,{credentials:"include",body:s,baseURL:u,method:"PUT"},"$P1OCqsfTEv"),R(),I.value=!1,h.value="",$.value="",F.value=null,E.value=null,A.value==="en"?m.success("Category Edited Successfully",{durations:{global:5e3}}):m.success("تم تعديل الفئة بنجاح",{durations:{global:5e3}})};return(s,l)=>{const o=K,v=ve,P=pe,Z=ee;return f(),b(z,null,[e("div",{class:le(["contain",("useSidebar"in s?s.useSidebar:i(de))().value?"shrink":""])},[e("div",fe,[e("div",be,[e("h4",_e,a(s.$i18n.locale==="ar"?"الصحافة النباتية":"Plant Press"),1)]),e("div",he,[e("div",{class:"reload btn btn-success mx-2",onClick:l[0]||(l[0]=t=>y.value=!0)},[r(o,{icon:["fas","plus"]}),M(" "+a(s.$i18n.locale==="ar"?"إضافة":"Add"),1)]),e("div",{class:"reload btn btn-success",onClick:l[1]||(l[1]=t=>R())},[r(o,{icon:["fas","rotate-right"]}),M(" "+a(s.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)])])]),e("div",$e,[i(B)?(f(),b("div",ge,we)):(f(),b("div",De,[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,a(s.$i18n.locale==="ar"?"الصورة":"Photo"),1),e("th",null,a(s.$i18n.locale==="ar"?"الوصف":"Description"),1),e("th",null,a(s.$i18n.locale==="ar"?"تعديل":"Edit"),1)])]),e("tbody",null,[(f(!0),b(z,null,se(i(q),t=>{var n;return f(),b("tr",{class:"rows",key:t.id},[e("td",null,[e("div",null,[e("span",null,[e("img",{height:"100",src:i(u)+"/"+t.photo,alt:""},null,8,ke)])])]),e("td",null,[e("div",null,[e("span",null,a(((n=t.description)==null?void 0:n.length)>30?t.description.slice(0,30)+"...":t.description),1)])]),e("td",null,[e("span",{class:"delete",onClick:J=>{c(p)?p.value=!0:p=!0,c(L)?L.value=t:L=t}},[r(o,{icon:["fas","trash"]})],8,Ce),e("span",Ae,[e("span",{class:"edit",onClick:J=>{I.value=!0,c(C)?C.value=t:C=t,H()}},[r(o,{icon:["fas","pen-to-square"]})],8,Ie)])])])}),128))])])]))])],2),r(P,{visible:i(y),"onUpdate:visible":l[6]||(l[6]=t=>c(y)?y.value=t:null),modal:"",style:{width:"50rem"}},{container:U(({closeCallback:t})=>[e("div",{class:"dialog",dir:s.$i18n.locale==="ar"?"rtl":"ltr"},[e("h5",Re,a(s.$i18n.locale==="ar"?"إضافة قسم جديد":"Add New Part"),1),e("div",Pe,[e("div",null,[e("div",Ue,[T(e("textarea",{"onUpdate:modelValue":l[2]||(l[2]=n=>c(w)?w.value=n:w=n),id:"description_AR",type:"text",autocomplete:"off",placeholder:s.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Se),[[V,i(w)]]),e("label",Fe,a(s.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Ne,[T(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=n=>c(D)?D.value=n:D=n),id:"description_En",type:"text",autocomplete:"off",placeholder:s.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",required:""},null,8,Le),[[V,i(D)]]),e("label",Te,a(s.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Ve,[e("div",Be,[r(v,{mode:"basic",onSelect:Y,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(k)?(f(),b("img",{key:0,src:i(k),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,qe)):x("",!0),i(k)?(f(),b("button",{key:1,class:"btn btn-danger clear",onClick:l[4]||(l[4]=ae(n=>{k.value=null,N.value=null},["prevent"]))},[r(o,{class:"xmark",icon:["fas","xmark"]})])):x("",!0)])])])]),e("div",xe,[e("button",{class:"btn btn-secondary",onClick:t},a(s.$t("Close")),9,Me),e("button",{class:"btn btn-success mx-2",onClick:l[5]||(l[5]=n=>W()),autofocus:""},a(s.$t("Add")),1)])],8,Ee)]),_:1},8,["visible"]),r(P,{visible:i(I),"onUpdate:visible":l[10]||(l[10]=t=>c(I)?I.value=t:null),modal:"",style:{width:"50rem"}},{container:U(({closeCallback:t})=>[e("div",{class:"dialog",dir:s.$i18n.locale==="ar"?"rtl":"ltr"},[e("span",null,a(s.$i18n.locale==="ar"?"تعديل المعلومات ":"Edit Information"),1),e("div",Oe,[e("div",null,[e("div",Ge,[T(e("textarea",{"onUpdate:modelValue":l[7]||(l[7]=n=>c(h)?h.value=n:h=n),id:"editDescription_AR",type:"text",autocomplete:"off",rows:"5",placeholder:s.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic",required:""},null,8,Ye),[[V,i(h)]]),e("label",je,a(s.$i18n.locale==="ar"?"الوصف بالعربي":"Description In Arabic"),1)]),e("div",Qe,[T(e("textarea",{"onUpdate:modelValue":l[8]||(l[8]=n=>c($)?$.value=n:$=n),id:"editDescription_EN",type:"text",autocomplete:"off",placeholder:s.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English",rows:"5",required:""},null,8,We),[[V,i($)]]),e("label",He,a(s.$i18n.locale==="ar"?"الوصف بالانجليزي":"Description In English"),1)]),e("div",Xe,[e("div",Ze,[r(v,{mode:"basic",onSelect:G,customUpload:"",maxFileSize:1e6,accept:"image/*",auto:"",class:"form-control p-button-outlined"}),i(E)?(f(),b("img",{key:0,src:i(E),alt:"Image",class:"shadow-md w-100 h-100 sm:w-64"},null,8,Je)):x("",!0)])])])]),e("div",Ke,[e("button",{class:"btn btn-secondary",onClick:t},a(s.$t("Close")),9,es),e("button",{class:"btn btn-success mx-2",onClick:l[9]||(l[9]=n=>X()),autofocus:""},a(s.$t("Edit")),1)])],8,ze)]),_:1},8,["visible"]),r(Z,{isOpen:i(p),onUpdateIsOpen:j},{header:U(()=>[e("h4",null,a(s.$i18n.locale==="ar"?"تأكيد الحذف":"Confirm Delete"),1)]),content:U(()=>[e("p",null,a(s.$i18n.locale==="ar"?"هل أنت متأكد من أنك تريد حذف":"Are You Sure You Want To Delete")+" "+a(s.$i18n.locale==="ar"?"؟":"?"),1)]),footer:U(()=>[e("button",{class:"btn btn-secondary",onClick:l[11]||(l[11]=t=>c(p)?p.value=!1:p=!1)},a(s.$t("Close")),1),e("button",{class:"btn btn-danger",onClick:l[12]||(l[12]=t=>Q())},a(s.$t("Delete")),1)]),_:1},8,["isOpen"])],64)}}},_s=ne(ss,[["__scopeId","data-v-4ad40a25"]]);export{_s as default};
