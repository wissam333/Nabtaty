import{_ as A}from"./BbA-o76e.js";import{_ as P,u as G,b as z,a as B,c as C}from"./B-xVLMgY.js";import{u as v}from"./BiZJ-hRq.js";import{a as r,a3 as n,D as i,a8 as a,a0 as l,u as _,M as L,Y as F,z as T,F as N,af as O,ag as V,w as m,a6 as q,a7 as J}from"./Bynz-MEc.js";const I=g=>(q("data-v-9857cd8f"),g=g(),J(),g),M={class:"title-container"},E={class:"head-title"},H={class:"header4"},Q={class:"options"},Y={key:0,class:"table-responsive"},W={key:0,class:"loading"},X=I(()=>a("img",{src:C,alt:""},null,-1)),j=[X],K={key:1,class:"product-tabel"},Z={class:"fw-bold"},x={class:"fw-bold"},ee={class:"badge rounded-pill bg-primary me-1"},ae={class:"fw-bold"},se={class:"fw-bold"},le={class:"fw-bold"},te=["onClick"],ne={key:1,class:"table-responsive"},ie={key:0,class:"loading"},oe=I(()=>a("img",{src:C,alt:""},null,-1)),ce=[oe],de={key:1,class:"product-tabel"},re={class:"fw-bold"},ue={class:"badge rounded-pill bg-primary me-1"},he={class:"fw-bold"},ve={class:"fw-bold"},_e={class:"fw-bold"},fe={__name:"Orders",setup(g){const{public:{api:u,apiBase:h}}=B(),{locale:b}=G();let f=r(!1),o=r(!1),$=r([]);const D=async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await v(`${u.GetOrders}`,{credentials:"include",baseURL:h,headers:{"accept-language":"ar"}},"$y05l6RPPIh");m(()=>{e.value&&($.value=e.value)})}else{const{data:e,pending:t}=await v(`${u.GetOrders}`,{credentials:"include",baseURL:h,headers:{"accept-language":"en"}},"$bsaH0Anhh9");m(()=>{e.value&&($.value=e.value)})}o.value=!1};D(),r(),r(!1);let y=r([]);(async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await v(`${u.GetAllCustomers}`,{credentials:"include",baseURL:h,headers:{"accept-language":"ar"}},"$QDLFnB9dfg");m(()=>{e.value&&(y.value=e.value)})}else{const{data:e,pending:t}=await v(`${u.GetAllCustomers}`,{credentials:"include",baseURL:h,headers:{"accept-language":"en"}},"$Hq8sUmpAxF");m(()=>{e.value&&(y.value=e.value)})}o.value=!1})();let w=r([]);(async()=>{if(o.value=!0,b.value==="ar"){const{data:e,pending:t}=await v(`${u.GetAllLocations}`,{credentials:"include",baseURL:h,headers:{"accept-language":"ar"}},"$s00D4ga8bm");m(()=>{e.value&&(w.value=e.value)})}else{const{data:e,pending:t}=await v(`${u.GetAllLocations}`,{credentials:"include",baseURL:h,headers:{"accept-language":"en"}},"$7YMUD0VMAw");m(()=>{e.value&&(w.value=e.value)})}o.value=!1})();const R=e=>{var c,d,s;let t=(c=y.value)==null?void 0:c.filter(p=>p.id==e);return((d=t[0])==null?void 0:d.firstName)+((s=t[0])==null?void 0:s.lastName)},S=e=>{var c,d;return(d=((c=w.value)==null?void 0:c.filter(s=>s.id==e))[0])==null?void 0:d.name};let k=r();const U=async e=>{f.value=!0,o.value=!0;const{data:t,pending:c}=await v(`${u.GetOrderDetails}/${e}`,{credentials:"include",baseURL:h,headers:{"accept-language":b.value==="ar"?"ar":"en"}},"$XWn84dcAOb");k.value=t.value,o.value=!1};return(e,t)=>{var d;const c=A;return n(),i("div",{class:V(["contain",("useSidebar"in e?e.useSidebar:_(z))().value?"shrink":""])},[a("div",M,[a("div",E,[a("h4",H,l(e.$i18n.locale==="ar"?"قائمة الطلبيات":"Orders List"),1)]),a("div",Q,[_(f)?(n(),i("div",{key:1,class:"reload btn btn-success mx-2",onClick:t[1]||(t[1]=s=>T(f)?f.value=!1:f=!1)},l(e.$i18n.locale==="ar"?"رجوع":"Back"),1)):(n(),i("div",{key:0,class:"reload btn btn-success mx-2",onClick:t[0]||(t[0]=s=>D())},[L(c,{icon:["fas","rotate-right"]}),F(" "+l(e.$i18n.locale==="ar"?"إعادة تحميل":"Reload"),1)]))])]),_(f)?(n(),i("div",ne,[_(o)?(n(),i("div",ie,ce)):(n(),i("div",de,[a("table",null,[a("thead",null,[a("tr",null,[a("th",null,l(e.$i18n.locale==="ar"?"الاسم":"Name"),1),a("th",null,l(e.$i18n.locale==="ar"?"الحجم":"Size"),1),a("th",null,l(e.$i18n.locale==="ar"?"الكمية":"Quantity"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الإفرادي":"Single Price"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الإجمالي":"Total Price"),1)])]),a("tbody",null,[(n(!0),i(N,null,O((d=_(k))==null?void 0:d.items,s=>(n(),i("tr",{class:"rows",key:s.id},[a("td",re,l(s.plantName),1),a("td",null,[a("p",ue,l(s.size?s.size:e.$i18n.locale==="ar"?"لا يوجد":"No Size"),1)]),a("td",he,l(s.quantity),1),a("td",ve,"JOD "+l(Number(s==null?void 0:s.plantPrice)),1),a("td",_e," JOD "+l(Number(s==null?void 0:s.plantPrice)*s.quantity),1)]))),128))])])]))])):(n(),i("div",Y,[_(o)?(n(),i("div",W,j)):(n(),i("div",K,[a("table",null,[a("thead",null,[a("tr",null,[a("th",null,l(e.$i18n.locale==="ar"?"الرقم":"ID"),1),a("th",null,l(e.$i18n.locale==="ar"?"الاسم":"Name"),1),a("th",null,l(e.$i18n.locale==="ar"?"السعر الكلي":"Total Price"),1),a("th",null,l(e.$i18n.locale==="ar"?"التاريخ":"Date"),1),a("th",null,l(e.$i18n.locale==="ar"?"نوع الدفع":"Payment Type"),1),a("th",null,l(e.$i18n.locale==="ar"?"الموقع":"Location"),1),a("th",null,l(e.$i18n.locale==="ar"?"تفاصيل":"Details"),1)])]),a("tbody",null,[(n(!0),i(N,null,O(_($),s=>{var p;return n(),i("tr",{class:"rows",key:s.cartId},[a("td",Z,l(s.cartId),1),a("td",x,l(R(s.customer_id)),1),a("td",null,[a("p",ee," JOD "+l(s.total_price),1)]),a("td",ae,l((p=s.created_at)==null?void 0:p.slice(0,10)),1),a("td",se,l(s.payment_id??e.$i18n.locale==="ar"?"لا يوجد":"Not Found"),1),a("td",le,l(S(s.location_id)),1),a("td",{class:"fw-bold edit-link",onClick:be=>U(s.cartId)},[L(c,{icon:["fas","circle-info"]})],8,te)])}),128))])])]))]))],2)}}},De=P(fe,[["__scopeId","data-v-9857cd8f"]]);export{De as default};
