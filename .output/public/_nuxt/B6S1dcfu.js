import{_ as O}from"./BT-Qu7lE.js";import{_ as R}from"./DEmvmS_m.js";import{_ as z,y as v,i as A,u as F,z as Q,n as D,a as V,d as T}from"./jYgtRURX.js";import{u as m}from"./Cv4jSj1P.js";import{_ as L}from"./BQhMbYJY.js";import{_ as M}from"./BA8QOZm7.js";import{_ as P}from"./qeu8RL0f.js";import{ah as J,a3 as c,D as l,a8 as t,a0 as s,u as r,F as U,af as Y,Y as w,ab as G,a4 as h,M as d,a5 as k,ag as K,a6 as W,a7 as H}from"./BUNOv-RT.js";const y=_=>(W("data-v-bf6bc611"),_=_(),H(),_),X={class:"cart nav-margin"},Z={class:"title"},tt={class:"d-flex align-items-center justify-content-center"},et=y(()=>t("img",{width:"70",src:L,alt:""},null,-1)),st={class:"underline"},ot={class:"container"},at={key:0,class:"row"},nt={class:"col-lg-8"},ct=y(()=>t("div",{class:"leaf"},[t("img",{src:M,alt:""})],-1)),it=y(()=>t("div",{class:"leaf2"},[t("img",{src:P,alt:""})],-1)),lt={class:"imagebox"},rt=["src"],dt={class:"mx-5",style:{display:"flex","flex-direction":"column","justify-content":"space-around"}},_t={class:"fw-bold"},pt={style:{"font-size":"smaller",color:"#dfabe3"}},ut={key:0,class:"text-muted fw-bold"},mt={class:"color price fw-bold"},ht={class:"d-flex align-items-center justify-space-between mb-2"},yt={style:{border:"2px solid #003d2ec2"},class:"d-inline-flex align-items-center py-2 px-10"},ft=["id","data-qty"],bt=["onClick"],gt={class:"col-lg-4"},xt={class:"result-box",style:{border:"2px solid #003d2ec2","border-radius":"8px","padding-bottom":"10px"}},vt={class:"background text-white fw-bold d-flex justify-space-between px-3 p-2"},wt={class:"text-white"},kt={class:"text-white"},Ct={class:"text-white"},$t={class:"d-flex justify-content-between align-items-center px-8 mt-5"},qt={class:"text-black fw-bold"},It={class:"totalPrice fw-bold text-black",style:{"font-size":"20px"}},Et={class:"text-center mt-5"},St={class:"Check background px-5 py-2 text-white"},jt={class:"Check background px-5 py-2 text-white"},Nt={class:"Check background px-5 py-2 text-white"},Bt={key:1,class:"bg- d-flex justify-center align-items-center",style:{height:"calc(100vh - 300px)"}},Ot={class:"text-center"},Rt={class:"background px-10 py-3 text-white mx-auto"},zt={__name:"Cart",setup(_){const p=v(),C=A(),{public:{api:At,apiBase:$}}=V(),{$awn:q}=T(),{locale:I}=F(),E=(e,i)=>{const a=document.getElementById(`quantity_${e}`);if(new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let n=parseInt(a.dataset.qty)+1;a.setAttribute("data-qty",n),a.textContent=n,m().CartincreaseQty(i)}},S=(e,i)=>{const a=document.getElementById(`quantity_${e}`);if(parseInt(a.dataset.qty)>1&&new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let n=parseInt(a.dataset.qty)-1;a.setAttribute("data-qty",n),a.textContent=n,m().CartdecreaseQty(i)}},j=e=>{m().removeItemFromCart(e)};console.log(p.value);const N=()=>{let e=Q().value;if(e!=null&&e.email)D("/order");else{q.success(I.value==="ar"?"يتم الآن تسجيل الدخول إلى غوغل":"Signing In To Google");const i="https://server.nabtaty.com";window.location.href=`${i}/auth/providers/google`}};return(e,i)=>{var f;const a=O,n=R,B=J("v-icon");return c(),l("div",X,[t("div",Z,[t("h1",tt,[et,t("span",st,s(e.$i18n.locale==="ar"?"سلة المشتريات":"My Cart"),1)])]),t("div",ot,[r(p).totalQty>0?(c(),l("div",at,[t("div",nt,[(c(!0),l(U,null,Y(r(p).items,(o,u)=>{var b,g;return c(),l("div",{class:"cartbox mb-5 d-flex justify-start",key:o.id},[ct,it,t("div",lt,[(b=o.item)!=null&&b.photos[0]?(c(),l("img",{key:0,src:`${r($)}/${(g=o.item)==null?void 0:g.photos[0].photoPath}`,width:"250",height:"180",class:"",alt:""},null,8,rt)):k("",!0)]),t("div",dt,[t("h4",_t,[t("span",pt,"("+s(o.item.selectedSize)+")",1),w(" "+s((e.$i18n.locale=="en",o.item.plant_name)),1)]),o.item.note!=""?(c(),l("p",ut,s(o.item.note),1)):k("",!0),t("p",mt,s(o.price)+" "+s(e.$i18n.locale==="ar"?"دينار":"JOD"),1),t("div",ht,[t("div",yt,[d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:x=>S(o.id,u),icon:["fas","minus"]},null,8,["onClick"]),t("span",{class:"mx-3 quantity",id:`quantity_${o.id}`,"data-qty":o.qty},s(o.qty),9,ft),d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:x=>E(o.id,u),icon:["fas","plus"]},null,8,["onClick"])]),t("button",{class:K(["mb-0 text-white border-0 rounded-0 mx-5 btn delete",e.$i18n.locale==="en"?"en":""]),onClick:x=>j(u)},s(e.$i18n.locale=="en"?"REMOVE":"حذف"),11,bt)])])])}),128))]),t("div",gt,[t("div",xt,[t("h4",vt,[t("span",wt,s(e.$i18n.locale=="en"?"Summary":"ملخص"),1),t("span",kt,[w(s(("useCart"in e?e.useCart:r(v))().value.totalQty)+" ",1),t("span",Ct,s(e.$i18n.locale=="en"?"Item":"عنصر"),1)])]),t("div",$t,[t("span",qt,s(e.$i18n.locale=="ar"?"الطلب الكلي ":"Order Total"),1),t("span",It,s((f=r(p).totalPrice)==null?void 0:f.toFixed(2))+" "+s(e.$i18n.locale==="ar"?"دينار":"JOD"),1)]),t("div",Et,[r(C).isAuthenticated?(c(),G(n,{key:0,class:"w-75",to:"/order"},{default:h(()=>[t("button",St,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"ORDER NOW"),1)]),_:1})):(c(),l("span",{key:1,class:"w-75",onClick:i[0]||(i[0]=o=>N())},[t("button",jt,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"Order Now"),1)])),d(n,{class:"mx-1",to:"/"},{default:h(()=>[t("button",Nt,s(e.$i18n.locale=="ar"?"تابع التسوق":"Keep Shopping"),1)]),_:1})])])])])):(c(),l("div",Bt,[t("div",null,[t("h5",Ot,[d(B,{size:"x-large",color:" darken-2",icon:"mdi-cart-off"})]),d(n,{to:"/",class:"d-flex justify-center mt-9 align-items-center"},{default:h(()=>[t("button",Rt,s(e.$i18n.locale=="ar"?"املأ السلة":"Fill Your Cart"),1)]),_:1})])]))])])}}},Jt=z(zt,[["__scopeId","data-v-bf6bc611"]]);export{Jt as default};
