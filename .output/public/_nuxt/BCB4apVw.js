import{_ as B}from"./Ch5Sa6jZ.js";import{_ as O}from"./Db8DNhKK.js";import{_ as R,y as w,i as A,u as F,z as Q,n as D,a as V,d as T}from"./ggi4YNCB.js";import{u as h}from"./MZnDm9Fj.js";import{_ as L}from"./B7By2r3O.js";import{_ as M}from"./D5RyQtkv.js";import{_ as P}from"./KCamw_0N.js";import{ah as J,a3 as n,D as i,a8 as t,a0 as s,u as r,F as U,af as Y,Y as k,ab as G,a4 as m,M as d,a5 as y,ag as K,a6 as W,a7 as H}from"./Bynz-MEc.js";const f=_=>(W("data-v-5a90d600"),_=_(),H(),_),X={class:"cart nav-margin"},Z={class:"title"},tt={class:"d-flex align-items-center justify-content-center"},et=f(()=>t("img",{width:"70",src:L,alt:""},null,-1)),st={class:"underline"},ot={class:"container"},at={key:0,class:"row"},nt={class:"col-lg-8"},ct=f(()=>t("div",{class:"leaf"},[t("img",{src:M,alt:""})],-1)),it=f(()=>t("div",{class:"leaf2"},[t("img",{src:P,alt:""})],-1)),lt={class:"imagebox"},rt=["src"],dt={class:"mx-5",style:{display:"flex","flex-direction":"column","justify-content":"space-around"}},_t={class:"fw-bold"},pt={key:0,style:{"font-size":"smaller",color:"#00916d"}},ut={key:0,class:"text-muted fw-bold"},ht={class:"color price fw-bold"},mt={class:"d-flex align-items-center justify-space-between mb-2"},yt={style:{border:"2px solid #003d2ec2"},class:"d-inline-flex align-items-center py-2 px-10"},ft=["id","data-qty"],gt=["onClick"],xt={class:"col-lg-4"},bt={class:"result-box",style:{border:"2px solid #003d2ec2","border-radius":"8px","padding-bottom":"10px"}},vt={class:"background text-white fw-bold d-flex justify-space-between px-3 p-2"},wt={class:"text-white"},kt={class:"text-white"},Ct={class:"text-white"},$t={class:"d-flex justify-content-between align-items-center px-8 mt-5"},qt={class:"text-black fw-bold"},It={class:"totalPrice fw-bold text-black",style:{"font-size":"20px"}},Et={class:"text-center mt-5"},St={class:"Check background px-5 py-2 text-white"},jt={class:"Check background px-5 py-2 text-white"},Nt={class:"Check background px-5 py-2 text-white"},zt={key:1,class:"bg- d-flex justify-center align-items-center",style:{height:"calc(100vh - 300px)"}},Bt={class:"text-center"},Ot={class:"background px-10 py-3 text-white mx-auto"},Rt={__name:"Cart",setup(_){const p=w(),C=A(),{public:{api:At,apiBase:$}}=V(),{$awn:q}=T(),{locale:I}=F(),E=(e,l)=>{const a=document.getElementById(`quantity_${e}`);if(new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let c=parseInt(a.dataset.qty)+1;a.setAttribute("data-qty",c),a.textContent=c,h().CartincreaseQty(l)}},S=(e,l)=>{const a=document.getElementById(`quantity_${e}`);if(parseInt(a.dataset.qty)>1&&new RegExp("^[1-9]+[0-9]*$").test(a.dataset.qty)){let c=parseInt(a.dataset.qty)-1;a.setAttribute("data-qty",c),a.textContent=c,h().CartdecreaseQty(l)}},j=e=>{h().removeItemFromCart(e)};console.log(p.value);const N=()=>{let e=Q().value;if(e!=null&&e.email)D("/order");else{q.success(I.value==="ar"?"يتم الآن تسجيل الدخول إلى غوغل":"Signing In To Google");const l="https://server.nabtaty.com";window.location.href=`${l}/auth/providers/google`}};return(e,l)=>{var g;const a=B,c=O,z=J("v-icon");return n(),i("div",X,[t("div",Z,[t("h1",tt,[et,t("span",st,s(e.$i18n.locale==="ar"?"سلة المشتريات":"My Cart"),1)])]),t("div",ot,[r(p).totalQty>0?(n(),i("div",at,[t("div",nt,[(n(!0),i(U,null,Y(r(p).items,(o,u)=>{var x,b;return n(),i("div",{class:"cartbox mb-5 d-flex justify-start",key:o.id},[ct,it,t("div",lt,[(x=o.item)!=null&&x.photos[0]?(n(),i("img",{key:0,src:`${r($)}/${(b=o.item)==null?void 0:b.photos[0].photoPath}`,width:"250",height:"180",class:"",alt:""},null,8,rt)):y("",!0)]),t("div",dt,[t("h4",_t,[o.selectedSize?(n(),i("span",pt,"("+s(o.selectedSize)+")",1)):y("",!0),k(" "+s((e.$i18n.locale=="en",o.item.plant_name)),1)]),o.item.note!=""?(n(),i("p",ut,s(o.item.note),1)):y("",!0),t("p",ht,s(o.price)+" "+s(e.$i18n.locale==="ar"?"دينار":"JOD"),1),t("div",mt,[t("div",yt,[d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:v=>S(o.id,u),icon:["fas","minus"]},null,8,["onClick"]),t("span",{class:"mx-3 quantity",id:`quantity_${o.id}`,"data-qty":o.qty},s(o.qty),9,ft),d(a,{style:{color:"#003d2ec2",cursor:"pointer"},onClick:v=>E(o.id,u),icon:["fas","plus"]},null,8,["onClick"])]),t("button",{class:K(["mb-0 text-white border-0 rounded-0 mx-5 btn delete",e.$i18n.locale==="en"?"en":""]),onClick:v=>j(u)},s(e.$i18n.locale=="en"?"REMOVE":"حذف"),11,gt)])])])}),128))]),t("div",xt,[t("div",bt,[t("h4",vt,[t("span",wt,s(e.$i18n.locale=="en"?"Summary":"ملخص"),1),t("span",kt,[k(s(("useCart"in e?e.useCart:r(w))().value.totalQty)+" ",1),t("span",Ct,s(e.$i18n.locale=="en"?"Item":"عنصر"),1)])]),t("div",$t,[t("span",qt,s(e.$i18n.locale=="ar"?"الطلب الكلي ":"Order Total"),1),t("span",It,s((g=r(p).totalPrice)==null?void 0:g.toFixed(2))+" "+s(e.$i18n.locale==="ar"?"دينار":"JOD"),1)]),t("div",Et,[r(C).isAuthenticated?(n(),G(c,{key:0,class:"w-75",to:"/order"},{default:m(()=>[t("button",St,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"ORDER NOW"),1)]),_:1})):(n(),i("span",{key:1,class:"w-75",onClick:l[0]||(l[0]=o=>N())},[t("button",jt,s(e.$i18n.locale=="ar"?"اطلب الطلبية":"Order Now"),1)])),d(c,{class:"mx-1",to:"/"},{default:m(()=>[t("button",Nt,s(e.$i18n.locale=="ar"?"تابع التسوق":"Keep Shopping"),1)]),_:1})])])])])):(n(),i("div",zt,[t("div",null,[t("h5",Bt,[d(z,{size:"x-large",color:" darken-2",icon:"mdi-cart-off"})]),d(c,{to:"/",class:"d-flex justify-center mt-9 align-items-center"},{default:m(()=>[t("button",Ot,s(e.$i18n.locale=="ar"?"املأ السلة":"Fill Your Cart"),1)]),_:1})])]))])])}}},Jt=R(Rt,[["__scopeId","data-v-5a90d600"]]);export{Jt as default};
